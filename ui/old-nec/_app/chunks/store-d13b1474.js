var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,s=(a,t,n)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,i=(e,a)=>{for(var t in a||(a={}))o.call(a,t)&&s(e,t,a[t]);if(n)for(var t of n(a))c.call(a,t)&&s(e,t,a[t]);return e},r=(e,n)=>a(e,t(n));import{C as l}from"./vendor-4a259baa.js";const p={chats:[],connection:"disconnected",canvasList:[],ship:window.ship,width:1500,height:1e3,gcp:null,s3:{configuration:{buckets:new Set,currentBucket:""},credentials:null}},{subscribe:u,update:b}=l(p);function d(e){console.log("[createCanvasStore]",e),b((a=>r(i({},a),{canvas:e,canvasList:Object.keys(e).filter((e=>"welcome"!==e))})))}function f(e){(function(e){return"string"==typeof e.accessKey&&"number"==typeof e.expiresIn})(e)&&(console.log("[loadGCPToken]",e),b((a=>r(i({},a),{gcp:{gcpToken:e}}))))}function v(e){console.log("[loadCanvas]",e),b((a=>r(i({},a),{canvas:i({[e.name]:{metadata:{name:e.name,template:e.template,location:e.location,saved:e.saved,width:e.width,height:e.height,private:e.private},data:e.data}},a.canvas),canvasList:[e.name,...a.canvasList]})))}function g(e){console.log("[painting]",e),b((a=>(e.strokes.forEach((t=>{console.log(t),a.canvas[e.name].data[t.id]=i({},t)})),a)))}function m(e){b((a=>r(i({},a),{connection:e})))}function h(e){b((a=>r(i({},a),{api:e})))}function y(e){b((a=>r(i({},a),{subscription:e})))}var w={subscribe:u};export{w as a,h as b,d as c,y as d,v as l,g as p,f as s,m as u};

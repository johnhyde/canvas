import{S as t,i as e,s as n,L as a,c as r,a as s,d as o,b as l,V as $,f as c,W as i,U as f,X as m,E as u,Y as d,Z as p,j as g,m as h,o as v,v as x,r as w,w as y,$ as k,a0 as b,a1 as C,a2 as q,k as E,n as M,B as S,u as T,a3 as I,a4 as L,a5 as V,a6 as B,a7 as N,a8 as D,a9 as F,l as j,J as H,aa as z,ab as R,ac as U,ad as P,ae as Z,af as W,ag as A,e as O,t as X,g as Y,h as J,z as G,ah as K,ai as Q,aj as _,N as tt,ak as et,A as nt,al as at,am as rt,p as st,q as ot,an as lt,ao as $t,R as ct,F as it,ap as ft,aq as mt,ar as ut,as as dt,at as pt,au as gt,av as ht,aw as vt,ax as xt,ay as wt,T as yt,az as kt,aA as bt,aB as Ct}from"../chunks/vendor-2bc0f3fe.js";import{d as qt,g as Et,h as Mt,i as St}from"../chunks/store-bc25e6d8.js";function Tt(t,e,n){const{x:a,y:r}=function(t,e){return{x:Math.floor(t/e),y:t%e}}(t,e);return Math.floor(function(t,e,n){return n*t+e}(a,r+0,n))}function It(t,e,n,a,r,s){const o=1.5*e,l=1.5*e,$=Math.ceil((a+e)/l)+1,c=Math.ceil(n/o)+1,i=[],f=[];for(let p=-1;p<=$;++p)for(let t=-1;t<=c;++t){const e=2*p,n=2*t;f.push([[n,e-1],[2,0]],[[n+2,e-1],[0,2]])}const m=Object.keys(r),u={};m.map((t=>{u[t]=t}));let d=0;for(let p=0,g=2;p<$;++p,g+=4)for(let e=0;e<c;++e,g+=2)i.push({id:u[d]?u[d].toString():d.toString(),name:t,type:"Polygon",arcs:[[g,g+1,~(g+2*(c+2)),~(g-1)]],attr:r&&r[u[d]]||{}}),++d;return{transform:{translate:[0,0],scale:[1,1]},objects:{pixels:{type:"GeometryCollection",geometries:i}},arcs:f}}function Lt(t,e,n,a,r,s){const o=2*e*Math.sin(Math.PI/3),l=1.5*e,$=Math.ceil((a+e)/l)+1,c=Math.ceil(n/o)+1,i=[],f=[];let m=0;for(let p=-1;p<=$;++p)for(let t=-1;t<=c;++t){const e=2*p,n=2*(t+(1&p)/2);f.push([[n,e-1],[1,1]],[[n+1,e],[0,1]],[[n+1,e+1],[-1,1]])}const u=Object.keys(r),d={};u.map((t=>{s!==c?d[Tt(t,s,c)]=t:d[t]=t}));for(let p=0,g=3;p<$;++p,g+=6)for(let e=0;e<c;++e,g+=3)i.push({id:m.toString(),name:t,type:"Polygon",arcs:[[g,g+1,g+2,~(g+3*(c+2-(1&p))),~(g-2),~(g-3*(c+2+(1&p))+2)]],attr:r&&r[d[m]]||{}}),++m;return{transform:{translate:[0,0],scale:[1,1]},objects:{pixels:{type:"GeometryCollection",geometries:i}},arcs:f}}function Vt(t){let e,n,u,d,p;return{c(){e=a("path"),this.h()},l(t){e=r(t,"path",{d:!0,fill:!0,"stroke-width":!0,class:!0},1),s(e).forEach(o),this.h()},h(){l(e,"d",n=t[2]($(t[0],t[1]))),l(e,"fill",u=t[1].attr&&t[1].attr.color?t[1].attr.color:"#fff0"),l(e,"stroke-width",1),l(e,"class","svelte-td270i")},m(n,a){c(n,e,a),d||(p=[i(e,"mousedown",t[3]),i(e,"mouseup",t[5]),i(e,"mousemove",t[4])],d=!0)},p(t,[a]){7&a&&n!==(n=t[2]($(t[0],t[1])))&&l(e,"d",n),2&a&&u!==(u=t[1].attr&&t[1].attr.color?t[1].attr.color:"#fff0")&&l(e,"fill",u)},i:f,o:f,d(t){t&&o(e),d=!1,m(p)}}}function Bt(t,e,n){let a,r;u(t,qt,(t=>n(9,r=t)));let{topology:s}=e,{d:o}=e,{selectedColor:l}=e,{mousing:$}=e,{path:c}=e;const i=d();function f(){if($){const t={color:a,when:Date.now(),who:r.ship},e=$>0;let n={id:o.id};e&&Object.assign(n,t),i("update",{id:o.id,data:{color:e?a:null}}),i("save",n)}}return t.$$set=t=>{"topology"in t&&n(0,s=t.topology),"d"in t&&n(1,o=t.d),"selectedColor"in t&&n(7,l=t.selectedColor),"mousing"in t&&n(6,$=t.mousing),"path"in t&&n(2,c=t.path)},t.$$.update=()=>{128&t.$$.dirty&&(a=l)},[s,o,c,function(t){3!==t.which&&(n(6,$=o.attr.color===a?-1:1),f())},f,function(){f(),n(6,$=0),i("flush")},$,l]}class Nt extends t{constructor(t){super(),e(this,t,Bt,Vt,n,{topology:0,d:1,selectedColor:7,mousing:6,path:2})}}function Dt(t){let e,n;return e=new k({props:{labelText:"Leave Canvas...",icon:B,indented:!0}}),e.$on("click",t[9]),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p:f,i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ft(t){let e,n;return e=new k({props:{icon:N,indented:!0,labelText:"Copy Image URL..."}}),e.$on("click",t[10]),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p:f,i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function jt(t){let e,n;return e=new k({props:{indented:!0,labelText:"Export canvas..."}}),e.$on("click",t[11]),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p:f,i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ht(t){let e,n;return e=new k({props:{labelText:"Show mesh",selected:t[1]}}),e.$on("click",t[12]),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};2&n&&(a.selected=t[1]),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function zt(t){let e,n,a,r,s,l,$,i,f,m=t[5].gcp||Pt(t[5].s3);e=new k({props:{labelText:"Copy Canvas path...",icon:b,indented:!0}}),e.$on("click",t[8]);let u=t[3]!==`~${t[5].ship}`&&Dt(t),d=t[0]&&Ft(t),p=m&&jt(t);return l=new C({}),i=new q({props:{$$slots:{default:[Ht]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment),n=E(),u&&u.c(),a=E(),d&&d.c(),r=E(),p&&p.c(),s=E(),g(l.$$.fragment),$=E(),g(i.$$.fragment)},l(t){h(e.$$.fragment,t),n=M(t),u&&u.l(t),a=M(t),d&&d.l(t),r=M(t),p&&p.l(t),s=M(t),h(l.$$.fragment,t),$=M(t),h(i.$$.fragment,t)},m(t,o){v(e,t,o),c(t,n,o),u&&u.m(t,o),c(t,a,o),d&&d.m(t,o),c(t,r,o),p&&p.m(t,o),c(t,s,o),v(l,t,o),c(t,$,o),v(i,t,o),f=!0},p(t,e){t[3]!==`~${t[5].ship}`?u?(u.p(t,e),40&e&&x(u,1)):(u=Dt(t),u.c(),x(u,1),u.m(a.parentNode,a)):u&&(S(),w(u,1,1,(()=>{u=null})),T()),t[0]?d?(d.p(t,e),1&e&&x(d,1)):(d=Ft(t),d.c(),x(d,1),d.m(r.parentNode,r)):d&&(S(),w(d,1,1,(()=>{d=null})),T()),32&e&&(m=t[5].gcp||Pt(t[5].s3)),m?p?(p.p(t,e),32&e&&x(p,1)):(p=jt(t),p.c(),x(p,1),p.m(s.parentNode,s)):p&&(S(),w(p,1,1,(()=>{p=null})),T());const n={};16386&e&&(n.$$scope={dirty:e,ctx:t}),i.$set(n)},i(t){f||(x(e.$$.fragment,t),x(u),x(d),x(p),x(l.$$.fragment,t),x(i.$$.fragment,t),f=!0)},o(t){w(e.$$.fragment,t),w(u),w(d),w(p),w(l.$$.fragment,t),w(i.$$.fragment,t),f=!1},d(t){y(e,t),t&&o(n),u&&u.d(t),t&&o(a),d&&d.d(t),t&&o(r),p&&p.d(t),t&&o(s),y(l,t),t&&o($),y(i,t)}}}function Rt(t){let e,n;return e=new p({props:{open:Ut,$$slots:{default:[zt]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,[n]){const a={};16447&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}let Ut=!1;function Pt(t){return t.credentials&&""!==t.credentials.endpoint&&""!==t.credentials.secretAccessKey&&""!==t.credentials.AccessKeyId&&""!==t.configuration.currentBucket}function Zt(t,e,n){let a;u(t,qt,(t=>n(5,a=t)));let{name:r}=e,{fileURL:s}=e,{location:o}=e,{showMesh:l}=e,{privateCanvas:$}=e,{canvasNode:c}=e;function i(t,e){a.api.leave(t,e).then((()=>{console.log("[ success leave canvas... ]",t,e),Et(t,e)}))}return t.$$set=t=>{"name"in t&&n(2,r=t.name),"fileURL"in t&&n(0,s=t.fileURL),"location"in t&&n(3,o=t.location),"showMesh"in t&&n(1,l=t.showMesh),"privateCanvas"in t&&n(7,$=t.privateCanvas),"canvasNode"in t&&n(4,c=t.canvasNode)},[s,l,r,o,c,a,i,$,()=>I(`~${a.ship}/${r}`),()=>i(o,r),()=>I(s),async()=>{const t=(t=>{const e=document.getElementById("mesh");e&&e.setAttribute("fill","white");let n=(new XMLSerializer).serializeToString(t);return e&&e.setAttribute("fill","#fff0"),n=n.replace(/(\w+)?:?xlink=/g,"xmlns:xlink="),n=n.replace(/NS\d+:href/g,"xlink:href"),n})(c);if(!a.s3.client)throw new Error("Storage not ready");const e=function(t,e=!1){const n=function(t){return t>=10?t:"0"+t};return`${t.getUTCFullYear()}.${t.getUTCMonth()+1}.${n(t.getUTCDate())}..${n(t.getUTCHours())}.${n(t.getUTCMinutes())}.${n(t.getUTCSeconds())}${e?"..0000":""}`}(new Date),l=a.s3.configuration.currentBucket,$=`${window.ship}/${e}-${r}.svg`,i=new L({Bucket:l,Key:$,Body:t,ACL:"public-read",ContentType:"image/svg+xml"}),{$metadata:f}=await a.s3.client.send(i);if(200===f.httpStatusCode){const t=await V(a.s3.client,i);n(0,s=t.split("?")[0]),a.api.save(o,r,s).then((()=>{console.log("[image file saved]",t),Mt(o,r,s)}))}else console.log("error")},()=>n(1,l=!l)]}class Wt extends t{constructor(t){super(),e(this,t,Zt,Rt,n,{name:2,fileURL:0,location:3,showMesh:1,privateCanvas:7,canvasNode:4})}}function At(t,e,n){const a=t.slice();return a[23]=e[n],a}function Ot(t){let e,n;return{c(){e=a("path"),this.h()},l(t){e=r(t,"path",{"shape-rendering":!0,class:!0,id:!0,d:!0},1),s(e).forEach(o),this.h()},h(){l(e,"shape-rendering","crispEdges"),l(e,"class","mesh svelte-14oqqh0"),l(e,"id","mesh"),l(e,"d",n=t[7](D(t[4],t[4].objects.pixels)))},m(t,n){c(t,e,n)},p(t,a){144&a&&n!==(n=t[7](D(t[4],t[4].objects.pixels)))&&l(e,"d",n)},d(t){t&&o(e)}}}function Xt(t){let e,n,a;function r(e){t[16](e)}let s={topology:t[4],d:t[23],path:t[7],selectedColor:t[3]};return void 0!==t[8]&&(s.mousing=t[8]),e=new Nt({props:s}),U.push((()=>P(e,"mousing",r))),e.$on("update",t[12]),e.$on("save",t[13]),e.$on("flush",t[14]),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,n){v(e,t,n),a=!0},p(t,a){const r={};16&a&&(r.topology=t[4]),32&a&&(r.d=t[23]),128&a&&(r.path=t[7]),8&a&&(r.selectedColor=t[3]),!n&&256&a&&(n=!0,r.mousing=t[8],F((()=>n=!1))),e.$set(r)},i(t){a||(x(e.$$.fragment,t),a=!0)},o(t){w(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function Yt(t){let e,n,a;function r(e){t[19](e)}let s={name:t[0].metadata.name,location:t[0].metadata.location,fileURL:t[0].metadata.file,privateCanvas:t[0].metadata.private,canvasNode:t[6]};return void 0!==t[9]&&(s.showMesh=t[9]),e=new Wt({props:s}),U.push((()=>P(e,"showMesh",r))),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,n){v(e,t,n),a=!0},p(t,a){const r={};1&a&&(r.name=t[0].metadata.name),1&a&&(r.location=t[0].metadata.location),1&a&&(r.fileURL=t[0].metadata.file),1&a&&(r.privateCanvas=t[0].metadata.private),64&a&&(r.canvasNode=t[6]),!n&&512&a&&(n=!0,r.showMesh=t[9],F((()=>n=!1))),e.$set(r)},i(t){a||(x(e.$$.fragment,t),a=!0)},o(t){w(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function Jt(t){let e,n,$,f,m,u,d,p,g,h,v=t[9]&&Ot(t),y=t[5],k=[];for(let a=0;a<y.length;a+=1)k[a]=Xt(At(t,y,a));const b=t=>w(k[t],1,1,(()=>{k[t]=null}));let C=t[0].metadata&&Yt(t);return{c(){e=a("svg"),n=a("g"),v&&v.c(),$=j();for(let t=0;t<k.length;t+=1)k[t].c();u=E(),C&&C.c(),d=j(),this.h()},l(t){e=r(t,"svg",{width:!0,height:!0,id:!0,viewBox:!0,preserveAspectRatio:!0,class:!0},1);var a=s(e);n=r(a,"g",{id:!0,class:!0,transform:!0},1);var l=s(n);v&&v.l(l),$=j();for(let e=0;e<k.length;e+=1)k[e].l(l);l.forEach(o),a.forEach(o),u=M(t),C&&C.l(t),d=j(),this.h()},h(){l(n,"id","hexagons"),l(n,"class","hexagon svelte-14oqqh0"),l(n,"transform",f=`translate(${t[11]}, ${"hexa"===t[0].metadata.mesh?t[11]:t[11]+1})`),l(e,"width",t[1]),l(e,"height",t[2]),l(e,"id","canvas"),l(e,"viewBox",m=`0 0 ${t[1]+t[10].width} ${t[2]+t[10].height}`),l(e,"preserveAspectRatio","xMaxYMin meet"),l(e,"class","svelte-14oqqh0")},m(a,r){c(a,e,r),H(e,n),v&&v.m(n,null),H(n,$);for(let t=0;t<k.length;t+=1)k[t].m(n,null);t[17](e),c(a,u,r),C&&C.m(a,r),c(a,d,r),p=!0,g||(h=i(e,"mouseleave",t[18]),g=!0)},p(t,[a]){if(t[9]?v?v.p(t,a):(v=Ot(t),v.c(),v.m(n,$)):v&&(v.d(1),v=null),29112&a){let e;for(y=t[5],e=0;e<y.length;e+=1){const r=At(t,y,e);k[e]?(k[e].p(r,a),x(k[e],1)):(k[e]=Xt(r),k[e].c(),x(k[e],1),k[e].m(n,null))}for(S(),e=y.length;e<k.length;e+=1)b(e);T()}(!p||1&a&&f!==(f=`translate(${t[11]}, ${"hexa"===t[0].metadata.mesh?t[11]:t[11]+1})`))&&l(n,"transform",f),(!p||2&a)&&l(e,"width",t[1]),(!p||4&a)&&l(e,"height",t[2]),(!p||1030&a&&m!==(m=`0 0 ${t[1]+t[10].width} ${t[2]+t[10].height}`))&&l(e,"viewBox",m),t[0].metadata?C?(C.p(t,a),1&a&&x(C,1)):(C=Yt(t),C.c(),x(C,1),C.m(d.parentNode,d)):C&&(S(),w(C,1,1,(()=>{C=null})),T())},i(t){if(!p){for(let t=0;t<y.length;t+=1)x(k[t]);x(C),p=!0}},o(t){k=k.filter(Boolean);for(let e=0;e<k.length;e+=1)w(k[e]);w(C),p=!1},d(n){n&&o(e),v&&v.d(),z(k,n),t[17](null),n&&o(u),C&&C.d(n),n&&o(d),g=!1,h()}}}function Gt(t,e,n){let a;u(t,qt,(t=>n(22,a=t)));let r,s,o,l,$,{canvas:c}=e,{width:i}=e,{height:f}=e,{color:m}=e,d={},p=0,g=!1,h={width:0,height:0},v=a.radius;return t.$$set=t=>{"canvas"in t&&n(0,c=t.canvas),"width"in t&&n(1,i=t.width),"height"in t&&n(2,f=t.height),"color"in t&&n(3,m=t.color)},t.$$.update=()=>{32791&t.$$.dirty&&(n(10,h=function(t,e){return{width:"hexa"===e?2*t*Math.sin(Math.PI/3):t,height:"hexa"===e?2.5*t:2*t+1}}(v,c.metadata.mesh)),n(4,r=("hexa"===c.metadata.mesh?Lt:It)(c.metadata.name,v,i,f,c.data,c.metadata.columns)),n(5,s=r.objects.pixels.geometries),n(15,l=function(t,e){const n="hexa"===e?2*t*Math.sin(Math.PI/3):1.5*t,a=1.5*t;return{stream:function(t){return{point:function(e,r){t.point(e*n/2,(r-(2-(1&r))/3)*a/2)},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}}}(v,c.metadata.mesh)),n(7,$=R().projection(l)),function(t,e,n){const a="hexa"===n?2*e*Math.sin(Math.PI/3):1.5*e;Math.ceil(t/a)}(i,c.metadata.columns,c.metadata.mesh))},[c,i,f,m,r,s,o,$,p,g,h,v,function(t){n(0,c.data[t.detail.id]=t.detail.data,c)},function(t){const{id:e}=t.detail;d[e]={mesh:Object.assign({},t.detail)}},function(){const t=Object.values(d),{location:e,name:n}=c.metadata;t.length>0&&a.api.send(e,n,t),d={}},l,function(t){p=t,n(8,p)},function(t){U[t?"unshift":"push"]((()=>{o=t,n(6,o)}))},()=>{n(8,p=0)},function(t){g=t,n(9,g)}]}class Kt extends t{constructor(t){super(),e(this,t,Gt,Jt,n,{canvas:0,width:1,height:2,color:3})}}function Qt(t){let e="";for(var n=0;n<t.length;n++){var a=t.charCodeAt(n);e+=a>=97&&a<=122||a>=48&&a<=57?t[n]:a>=65&&a<=90?String.fromCharCode(a+32):"-"}return e.replace(/^\-+|\-+$/g,"")}function _t(t,e,n){const a=t.slice();return a[4]=e[n],a}function te(t,e,n){const a=t.slice();return a[4]=e[n],a}function ee(t){let e,n;return e=new Z({props:{light:!0,size:"sm",inline:!0}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p:f,i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ne(t){let e,n;return e=new Z({props:{light:!0,size:"sm",inline:!0,selected:t[0],$$slots:{default:[ce]},$$scope:{ctx:t}}}),e.$on("change",t[3]),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};1&n&&(a.selected=t[0]),514&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ae(t){let e,n;return e=new W({props:{label:"Public",$$slots:{default:[se]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};514&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function re(t){let e,n;return e=new A({props:{value:t[4],text:t[2](t[4])}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};2&n&&(a.value=t[4]),2&n&&(a.text=t[2](t[4])),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function se(t){let e,n,a=t[1].publicCanvas,r=[];for(let o=0;o<a.length;o+=1)r[o]=re(te(t,a,o));const s=t=>w(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=j()},l(t){for(let e=0;e<r.length;e+=1)r[e].l(t);e=j()},m(t,a){for(let e=0;e<r.length;e+=1)r[e].m(t,a);c(t,e,a),n=!0},p(t,n){if(6&n){let o;for(a=t[1].publicCanvas,o=0;o<a.length;o+=1){const s=te(t,a,o);r[o]?(r[o].p(s,n),x(r[o],1)):(r[o]=re(s),r[o].c(),x(r[o],1),r[o].m(e.parentNode,e))}for(S(),o=a.length;o<r.length;o+=1)s(o);T()}},i(t){if(!n){for(let t=0;t<a.length;t+=1)x(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)w(r[e]);n=!1},d(t){z(r,t),t&&o(e)}}}function oe(t){let e,n;return e=new W({props:{label:"Private",$$slots:{default:[$e]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};514&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function le(t){let e,n;return e=new A({props:{value:t[4],text:t[2](t[4])}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};2&n&&(a.value=t[4]),2&n&&(a.text=t[2](t[4])),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function $e(t){let e,n,a=t[1].privateCanvas,r=[];for(let o=0;o<a.length;o+=1)r[o]=le(_t(t,a,o));const s=t=>w(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=j()},l(t){for(let e=0;e<r.length;e+=1)r[e].l(t);e=j()},m(t,a){for(let e=0;e<r.length;e+=1)r[e].m(t,a);c(t,e,a),n=!0},p(t,n){if(6&n){let o;for(a=t[1].privateCanvas,o=0;o<a.length;o+=1){const s=_t(t,a,o);r[o]?(r[o].p(s,n),x(r[o],1)):(r[o]=le(s),r[o].c(),x(r[o],1),r[o].m(e.parentNode,e))}for(S(),o=a.length;o<r.length;o+=1)s(o);T()}},i(t){if(!n){for(let t=0;t<a.length;t+=1)x(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)w(r[e]);n=!1},d(t){z(r,t),t&&o(e)}}}function ce(t){let e,n,a,r=t[1].publicCanvas.length>0&&ae(t),s=t[1].privateCanvas.length>0&&oe(t);return{c(){r&&r.c(),e=E(),s&&s.c(),n=j()},l(t){r&&r.l(t),e=M(t),s&&s.l(t),n=j()},m(t,o){r&&r.m(t,o),c(t,e,o),s&&s.m(t,o),c(t,n,o),a=!0},p(t,a){t[1].publicCanvas.length>0?r?(r.p(t,a),2&a&&x(r,1)):(r=ae(t),r.c(),x(r,1),r.m(e.parentNode,e)):r&&(S(),w(r,1,1,(()=>{r=null})),T()),t[1].privateCanvas.length>0?s?(s.p(t,a),2&a&&x(s,1)):(s=oe(t),s.c(),x(s,1),s.m(n.parentNode,n)):s&&(S(),w(s,1,1,(()=>{s=null})),T())},i(t){a||(x(r),x(s),a=!0)},o(t){w(r),w(s),a=!1},d(t){r&&r.d(t),t&&o(e),s&&s.d(t),t&&o(n)}}}function ie(t){let e,n,a,r;const s=[ne,ee],l=[];function $(t,e){return t[1].privateCanvas||t[1].publicCanvas?0:1}return e=$(t),n=l[e]=s[e](t),{c(){n.c(),a=j()},l(t){n.l(t),a=j()},m(t,n){l[e].m(t,n),c(t,a,n),r=!0},p(t,[r]){let o=e;e=$(t),e===o?l[e].p(t,r):(S(),w(l[o],1,1,(()=>{l[o]=null})),T(),n=l[e],n?n.p(t,r):(n=l[e]=s[e](t),n.c()),x(n,1),n.m(a.parentNode,a))},i(t){r||(x(n),r=!0)},o(t){w(n),r=!1},d(t){l[e].d(t),t&&o(a)}}}function fe(t,e,n){let a;u(t,qt,(t=>n(1,a=t)));let{selectedCanvas:r}=e;return t.$$set=t=>{"selectedCanvas"in t&&n(0,r=t.selectedCanvas)},[r,a,function(t){const e=t.split("-");if(1===e.length)return t;const n=function(t){const e=function(t){return parseInt(t)<10?"0"+parseInt(t):t.toString()},n=t.split("..");if(1===n.length)return null;const a=n[0].split("."),r=n[1].split(".");if(1===a.length||1===r.length)return null;const s=`${a[0].slice(1)}-${e(a[1])}-${e(a[2])}T${e(r[0])}:${e(r[1])}:${e(r[2])}Z`;return new Date(s)}(e[e.length-1]);return null===n?t:(e.pop(),`${e.join("-")} [${a=n,`~${a.getUTCFullYear()}.${a.getUTCMonth()+1}.${r=a.getUTCDate(),r>=10?r:"0"+r}`}] `);var a,r},t=>{t.detail&&St(t.detail)}]}class me extends t{constructor(t){super(),e(this,t,fe,ie,n,{selectedCanvas:0})}}function ue(t){let e,n,a,$,u,d,p,g,h,v,x,w,y,k,b,C,q,S,T,I,L,V,B,N,D,F,j,z,R,U,P,Z,W,A,G,K,Q,_,tt,et,nt,at,rt,st,ot,lt,$t,ct,it,ft,mt;return{c(){e=O("div"),n=O("div"),a=O("div"),$=O("div"),u=O("div"),d=E(),p=O("div"),g=E(),h=O("div"),v=O("div"),x=E(),w=O("div"),y=E(),k=O("div"),b=O("div"),C=E(),q=O("div"),S=E(),T=O("div"),I=E(),L=O("div"),V=O("div"),B=O("div"),N=E(),D=O("div"),F=O("p"),j=X(t[3]),z=E(),R=O("div"),U=O("div"),P=O("p"),Z=X(t[0]),W=E(),A=O("p"),G=X("R"),K=E(),Q=O("div"),_=O("p"),tt=X(t[1]),et=E(),nt=O("p"),at=X("G"),rt=E(),st=O("div"),ot=O("p"),lt=X(t[2]),$t=E(),ct=O("p"),it=X("B"),this.h()},l(l){e=r(l,"DIV",{class:!0});var c=s(e);n=r(c,"DIV",{class:!0});var i=s(n);a=r(i,"DIV",{class:!0});var f=s(a);$=r(f,"DIV",{class:!0});var m=s($);u=r(m,"DIV",{id:!0,class:!0}),s(u).forEach(o),d=M(m),p=r(m,"DIV",{id:!0,class:!0}),s(p).forEach(o),m.forEach(o),f.forEach(o),i.forEach(o),g=M(c),h=r(c,"DIV",{class:!0});var E=s(h);v=r(E,"DIV",{id:!0,class:!0}),s(v).forEach(o),x=M(E),w=r(E,"DIV",{id:!0,class:!0}),s(w).forEach(o),E.forEach(o),y=M(c),k=r(c,"DIV",{class:!0});var H=s(k);b=r(H,"DIV",{class:!0}),s(b).forEach(o),C=M(H),q=r(H,"DIV",{id:!0,class:!0}),s(q).forEach(o),S=M(H),T=r(H,"DIV",{id:!0,class:!0}),s(T).forEach(o),H.forEach(o),I=M(c),L=r(c,"DIV",{class:!0});var O=s(L);V=r(O,"DIV",{class:!0});var X=s(V);B=r(X,"DIV",{class:!0}),s(B).forEach(o),X.forEach(o),N=M(O),D=r(O,"DIV",{class:!0});var J=s(D);F=r(J,"P",{class:!0});var ft=s(F);j=Y(ft,t[3]),ft.forEach(o),J.forEach(o),z=M(O),R=r(O,"DIV",{class:!0});var mt=s(R);U=r(mt,"DIV",{class:!0});var ut=s(U);P=r(ut,"P",{class:!0});var dt=s(P);Z=Y(dt,t[0]),dt.forEach(o),W=M(ut),A=r(ut,"P",{class:!0});var pt=s(A);G=Y(pt,"R"),pt.forEach(o),ut.forEach(o),K=M(mt),Q=r(mt,"DIV",{class:!0});var gt=s(Q);_=r(gt,"P",{class:!0});var ht=s(_);tt=Y(ht,t[1]),ht.forEach(o),et=M(gt),nt=r(gt,"P",{class:!0});var vt=s(nt);at=Y(vt,"G"),vt.forEach(o),gt.forEach(o),rt=M(mt),st=r(mt,"DIV",{class:!0});var xt=s(st);ot=r(xt,"P",{class:!0});var wt=s(ot);lt=Y(wt,t[2]),wt.forEach(o),$t=M(xt),ct=r(xt,"P",{class:!0});var yt=s(ct);it=Y(yt,"B"),yt.forEach(o),xt.forEach(o),mt.forEach(o),O.forEach(o),c.forEach(o),this.h()},h(){l(u,"id","colorsquare-picker"),l(u,"class","svelte-57kaqt"),l(p,"id","colorsquare-event"),l(p,"class","svelte-57kaqt"),l($,"class","value-gradient svelte-57kaqt"),l(a,"class","saturation-gradient svelte-57kaqt"),l(n,"class","colorsquare size svelte-57kaqt"),l(v,"id","hue-picker"),l(v,"class","svelte-57kaqt"),l(w,"id","hue-event"),l(w,"class","svelte-57kaqt"),l(h,"class","hue-selector svelte-57kaqt"),l(b,"class","alpha-value svelte-57kaqt"),l(q,"id","alpha-picker"),l(q,"class","svelte-57kaqt"),l(T,"id","alpha-event"),l(T,"class","svelte-57kaqt"),l(k,"class","alpha-selector svelte-57kaqt"),l(B,"class","color-picked svelte-57kaqt"),l(V,"class","color-picked-bg svelte-57kaqt"),l(F,"class","text svelte-57kaqt"),l(D,"class","hex-text-block svelte-57kaqt"),l(P,"class","text svelte-57kaqt"),l(A,"class","text-label svelte-57kaqt"),l(U,"class","rgb-text-block svelte-57kaqt"),l(_,"class","text svelte-57kaqt"),l(nt,"class","text-label svelte-57kaqt"),l(Q,"class","rgb-text-block svelte-57kaqt"),l(ot,"class","text svelte-57kaqt"),l(ct,"class","text-label svelte-57kaqt"),l(st,"class","rgb-text-block svelte-57kaqt"),l(R,"class","rgb-text-div svelte-57kaqt"),l(L,"class","color-info-box svelte-57kaqt"),l(e,"class","main-container svelte-57kaqt")},m(r,s){c(r,e,s),H(e,n),H(n,a),H(a,$),H($,u),H($,d),H($,p),H(e,g),H(e,h),H(h,v),H(h,x),H(h,w),H(e,y),H(e,k),H(k,b),H(k,C),H(k,q),H(k,S),H(k,T),H(e,I),H(e,L),H(L,V),H(V,B),H(L,N),H(L,D),H(D,F),H(F,j),H(L,z),H(L,R),H(R,U),H(U,P),H(P,Z),H(U,W),H(U,A),H(A,G),H(R,K),H(R,Q),H(Q,_),H(_,tt),H(Q,et),H(Q,nt),H(nt,at),H(R,rt),H(R,st),H(st,ot),H(ot,lt),H(st,$t),H(st,ct),H(ct,it),ft||(mt=[i(p,"mousedown",t[4]),i(p,"touchstart",t[5]),i(w,"mousedown",t[6]),i(w,"touchstart",t[7]),i(T,"mousedown",t[8]),i(T,"touchstart",t[9])],ft=!0)},p(t,[e]){8&e&&J(j,t[3]),1&e&&J(Z,t[0]),2&e&&J(tt,t[1]),4&e&&J(lt,t[2])},i:f,o:f,d(t){t&&o(e),ft=!1,m(mt)}}}function de(t,e,n){let a=document.querySelector(t);a&&a.removeEventListener(e,n)}function pe(t,e,n){var a,r,s,o=Math.floor(6*t),l=6*t-o,$=n*(1-e),c=n*(1-l*e),i=n*(1-(1-l)*e);switch(o%6){case 0:a=n,r=i,s=$;break;case 1:a=c,r=n,s=$;break;case 2:a=$,r=n,s=i;break;case 3:a=$,r=c,s=n;break;case 4:a=i,r=$,s=n;break;case 5:a=n,r=$,s=c}return[Math.round(255*a),Math.round(255*r),Math.round(255*s)]}function ge(t,e,n){let{startColor:a="#FF0000"}=e;G((()=>{document.addEventListener("mouseup",y),document.addEventListener("touchend",y),document.addEventListener("mousemove",h),document.addEventListener("touchmove",v),document.addEventListener("touchstart",p),document.addEventListener("mousedown",g),function(){let t=a.replace("#","");if(6!==t.length&&3!==t.length&&!t.match(/([^A-F0-9])/gi))return void alert("Invalid property value (startColor)");let e="";3===t.length?t.split("").forEach((t=>{e+=t+t})):e=t;n(3,u=e),n(0,i=parseInt(e.substring(0,2),16)),n(1,f=parseInt(e.substring(2,4),16)),n(2,m=parseInt(e.substring(4,6),16)),function(t,e,n,a){let r,s,c,i,f,m,u,d,p,g;r=t/255,s=e/255,c=n/255,i=Math.max(r,s,c),f=Math.min(r,s,c),m=i-f,g=i,p=0==g?0:m/i;for(let o=0;o<3;o++)if([r,s,c][o]===i){u=o;break}if(0==m)return d=0,a?(o=d,l=p,$=g,void C()):{h:d,s:p,v:g};switch(u){case 0:d=(s-c)/m%6*60/360;break;case 1:d=60*((c-r)/m+2)/360;break;case 2:d=60*((r-s)/m+4)/360}d<0&&(d+=6);if(!a)return{h:d,s:p,v:g};o=d,l=p,$=g,C()}(i,f,m,!0),function(){let t=document.querySelector("#colorsquare-picker"),e=100*l,n=100*(1-$);t.style.top=n+"%",t.style.left=e+"%"}(),function(){let t=document.querySelector("#hue-picker"),e=100*o;t.style.left=e+"%"}()}()})),Number.prototype.mod=function(t){return(this%t+t)%t};const r=d();let s,o=1,l=1,$=1,c=1,i=255,f=0,m=0,u="#FF0000";function p(){de("#alpha-event","mousedown",E),de("#colorsquare-event","mousedown",x),de("#hue-event","mousedown",k),document.removeEventListener("mouseup",y),document.removeEventListener("mousemove",h),document.removeEventListener("touchstart",p),document.removeEventListener("mousedown",g)}function g(){de("#alpha-event","touchstart",M),de("#colorsquare-event","touchstart",w),de("#hue-event","touchstart",b),document.removeEventListener("touchend",y),document.removeEventListener("touchmove",v),document.removeEventListener("touchstart",p),document.removeEventListener("mousedown",g)}function h(t){if(s){let e,n,a,r=t.clientX,i=t.clientY,f=s.getBoundingClientRect();switch(s.id){case"colorsquare-event":e=(r-f.x)/240*100,n=(i-f.y)/160*100,e>100?e=100:e<0&&(e=0),n>100?n=100:n<0&&(n=0),a=document.querySelector("#colorsquare-picker"),n=n.toFixed(2),e=e.toFixed(2),a.style.top=n+"%",a.style.left=e+"%",l=e/100,$=1-n/100,q();break;case"hue-event":e=(r-10-f.x)/220*100,e>100?e=100:e<0&&(e=0),e=e.toFixed(2),a=document.querySelector("#hue-picker"),a.style.left=e+"%",o=e/100,C();break;case"alpha-event":e=(r-10-f.x)/220*100,e>100?e=100:e<0&&(e=0),e=e.toFixed(2),a=document.querySelector("#alpha-picker"),a.style.left=e+"%",c=e/100,q()}}}function v(t){if(s){let e,n,a,r=t.touches[0].clientX,i=t.touches[0].clientY,f=s.getBoundingClientRect();switch(s.id){case"colorsquare-event":e=(r-f.x)/240*100,n=(i-f.y)/160*100,e>100?e=100:e<0&&(e=0),n>100?n=100:n<0&&(n=0),a=document.querySelector("#colorsquare-picker"),n=n.toFixed(2),e=e.toFixed(2),a.style.top=n+"%",a.style.left=e+"%",l=e/100,$=1-n/100,q();break;case"hue-event":e=(r-10-f.x)/220*100,e>100?e=100:e<0&&(e=0),e=e.toFixed(2),a=document.querySelector("#hue-picker"),a.style.left=e+"%",o=e/100,C();break;case"alpha-event":e=(r-10-f.x)/220*100,e>100?e=100:e<0&&(e=0),e=e.toFixed(2),a=document.querySelector("#alpha-picker"),a.style.left=e+"%",c=e/100,q()}}}function x(t){s=t.currentTarget;let e=(t.offsetX+1)/240*100,n=(t.offsetY+1)/160*100;n=n.toFixed(2),e=e.toFixed(2);let a=document.querySelector("#colorsquare-picker");a.style.top=n+"%",a.style.left=e+"%",l=e/100,$=1-n/100,q()}function w(t){s=t.currentTarget;let e=t.target.getBoundingClientRect(),n=(t.targetTouches[0].clientX-e.left+1)/240*100,a=(t.targetTouches[0].clientY-e.top+1)/160*100;a=a.toFixed(2),n=n.toFixed(2);let r=document.querySelector("#colorsquare-picker");r.style.top=a+"%",r.style.left=n+"%",l=n/100,$=1-a/100,q()}function y(t){s=null}function k(t){s=t.currentTarget;let e=(t.offsetX-9)/220*100;e=e.toFixed(2),document.querySelector("#hue-picker").style.left=e+"%",o=e/100,C()}function b(t){s=t.currentTarget;let e=t.target.getBoundingClientRect(),n=(t.targetTouches[0].clientX-e.left-9)/220*100;n=n.toFixed(2),document.querySelector("#hue-picker").style.left=n+"%",o=n/100,C()}function C(){let t=pe(o,1,1);document.querySelector(".colorsquare").style.background=`rgba(${t[0]},${t[1]},${t[2]},1)`,q()}function q(){let t=pe(o,l,$);n(0,i=t[0]),n(1,f=t[1]),n(2,m=t[2]),n(3,u=function(){let t=i.toString(16),e=f.toString(16),n=m.toString(16);1==t.length&&(t="0"+t);1==e.length&&(e="0"+e);1==n.length&&(n="0"+n);return("#"+t+e+n).toUpperCase()}()),document.querySelector(".color-picked").style.background=`rgba(${t[0]},${t[1]},${t[2]},${c})`,r("colorChange",{r:i,g:f,b:m,a:c})}function E(t){s=t.currentTarget;let e=(t.offsetX-9)/220*100;e=e.toFixed(2),document.querySelector("#alpha-picker").style.left=e+"%",c=e/100,q()}function M(t){s=t.currentTarget;let e=t.target.getBoundingClientRect(),n=(t.targetTouches[0].clientX-e.left-9)/220*100;n=n.toFixed(2),document.querySelector("#alpha-picker").style.left=n+"%",c=n/100,q()}return t.$$set=t=>{"startColor"in t&&n(10,a=t.startColor)},[i,f,m,u,x,w,k,b,E,M,a]}class he extends t{constructor(t){super(),e(this,t,ge,ue,n,{startColor:10})}}function ve(t){let e,n,$;return{c(){e=a("svg"),n=a("path"),this.h()},l(t){e=r(t,"svg",{width:!0,height:!0,viewBox:!0,style:!0,transform:!0},1);var a=s(e);n=r(a,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0},1),s(n).forEach(o),a.forEach(o),this.h()},h(){l(n,"d","m 48 57 l 6 -10 l 12 0 l 6 10 l -6 10 l -12 0 l 0 0 t 0 0 l 0 0 m 0 0 l -6 -10 m 24 0 h 12 l 6 10 l -6 10 h -12 l -6 -10 m -12 0 l -6 10 l 6 -10 L 66 67 z M 72 77 L 84 77 L 90 87 L 84 97 L 72 97 L 66 87 L 72 77 Z M 54 67 L 48 57 H 36 L 31 67 L 36 77 L 48 77 L 54 67 Z M 72 57 L 66 47 L 72 37 L 84 37 L 90 47 L 84 57 L 72 57 L 66 47 Z M 48 77 L 54 87 L 66 87 L 72 77 L 66 67 L 54 67 L 48 77 Z"),l(n,"stroke",t[2]),l(n,"stroke-width",$=t[3]+.5),l(n,"fill",t[4]),l(e,"width",t[0]),l(e,"height",t[1]),l(e,"viewBox","0 0 128 128"),l(e,"style","margin-right: 5px;"),l(e,"transform","scale(1.2, 1.2)")},m(t,a){c(t,e,a),H(e,n)},p(t,a){4&a&&l(n,"stroke",t[2]),8&a&&$!==($=t[3]+.5)&&l(n,"stroke-width",$),16&a&&l(n,"fill",t[4]),1&a&&l(e,"width",t[0]),2&a&&l(e,"height",t[1])},d(t){t&&o(e)}}}function xe(t){let e,n;return{c(){e=a("svg"),n=a("path"),this.h()},l(t){e=r(t,"svg",{width:!0,height:!0,viewBox:!0,style:!0},1);var a=s(e);n=r(a,"path",{d:!0,stroke:!0,"stroke-width":!0,fill:!0},1),s(n).forEach(o),a.forEach(o),this.h()},h(){l(n,"d","M 8 8 H 8 V 23 H 23 V 8 H 8 M 38 8 H 23 V 23 H 38 V 8 Z M 38 23 M 38 37 M 38 37 H 23 V 23 H 38 Z M 5 23 H 8 Z M 5 8 H 8 Z M 8 5 V 8 Z M 23 5 V 8 Z M 38 5 V 8 Z M 41 8 H 38 Z M 41 23 H 38 Z M 41 37 H 38 Z M 38 40 V 37 Z M 23 40 V 37 Z M 20 37 H 23 Z M 8 23 V 26 Z"),l(n,"stroke",t[2]),l(n,"stroke-width",t[3]),l(n,"fill",t[4]),l(e,"width",t[0]),l(e,"height",t[1]),l(e,"viewBox","3 3 40 39"),l(e,"style","margin-right: 5px;")},m(t,a){c(t,e,a),H(e,n)},p(t,a){4&a&&l(n,"stroke",t[2]),8&a&&l(n,"stroke-width",t[3]),16&a&&l(n,"fill",t[4]),1&a&&l(e,"width",t[0]),2&a&&l(e,"height",t[1])},d(t){t&&o(e)}}}function we(t){let e;function n(t,e){return"squa"===t[5]?xe:"hexa"===t[5]?ve:void 0}let a=n(t),r=a&&a(t);return{c(){r&&r.c(),e=j()},l(t){r&&r.l(t),e=j()},m(t,n){r&&r.m(t,n),c(t,e,n)},p(t,[s]){a===(a=n(t))&&r?r.p(t,s):(r&&r.d(1),r=a&&a(t),r&&(r.c(),r.m(e.parentNode,e)))},i:f,o:f,d(t){r&&r.d(t),t&&o(e)}}}function ye(t,e,n){let{width:a}=e,{height:r}=e,{stroke:s}=e,{strokeWidth:o}=e,{fill:l}=e,{type:$}=e;return t.$$set=t=>{"width"in t&&n(0,a=t.width),"height"in t&&n(1,r=t.height),"stroke"in t&&n(2,s=t.stroke),"strokeWidth"in t&&n(3,o=t.strokeWidth),"fill"in t&&n(4,l=t.fill),"type"in t&&n(5,$=t.type)},[a,r,s,o,l,$]}class ke extends t{constructor(t){super(),e(this,t,ye,we,n,{width:0,height:1,stroke:2,strokeWidth:3,fill:4,type:5})}}function be(t,e,n){const a=t.slice();return a[20]=e[n][0],a[21]=e[n][1],a}function Ce(t,e,n){const a=t.slice();return a[20]=e[n][0],a[21]=e[n][1],a}function qe(t){let e;return{c(){e=X("New")},l(t){e=Y(t,"New")},m(t,n){c(t,e,n)},d(t){t&&o(e)}}}function Ee(t){let e,n;const a=[{inline:!0},{size:"sm"},{light:!0},{labelText:"Title"},{placeholder:"Name your creation!"},t[19],{invalid:t[26].error},{type:"text"},{invalidText:t[26].error}];let r={};for(let s=0;s<a.length;s+=1)r=nt(r,a[s]);return e=new mt({props:r}),e.$on("input",(function(){rt(t[19].handleInput)&&t[19].handleInput.apply(this,arguments)})),e.$on("blur",(function(){rt(t[19].handleBlur)&&t[19].handleBlur.apply(this,arguments)})),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(n,r){t=n;const s=67633152&r?st(a,[a[0],a[1],a[2],a[3],a[4],524288&r&&ot(t[19]),67108864&r&&{invalid:t[26].error},a[7],67108864&r&&{invalidText:t[26].error}]):{};e.$set(s)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Me(t){let e,n;return e=new ft({props:{name:"name",$$slots:{default:[Ee,({field:t,meta:e})=>({19:t,26:e}),({field:t,meta:e})=>(t?524288:0)|(e?67108864:0)]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};201850880&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Se(t){let e,n;const a=[{style:"display: inline-block;"},{labelText:"Private"},{ref:t[4]},{checked:t[5].private},t[19],{title:"Uncheck if you want others to join"}];let r={};for(let s=0;s<a.length;s+=1)r=nt(r,a[s]);return e=new ut({props:r}),e.$on("change",(function(){rt(t[19].handleInput)&&t[19].handleInput.apply(this,arguments)})),e.$on("blur",(function(){rt(t[19].handleBlur)&&t[19].handleBlur.apply(this,arguments)})),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(n,r){t=n;const s=524336&r?st(a,[a[0],a[1],16&r&&{ref:t[4]},32&r&&{checked:t[5].private},524288&r&&ot(t[19]),a[5]]):{};e.$set(s)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Te(t){let e,n;return e=new ft({props:{name:"private",$$slots:{default:[Se,({field:t,meta:e})=>({19:t,26:e}),({field:t,meta:e})=>(t?524288:0)|(e?67108864:0)]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};134742016&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ie(t){let e,n,a,r;return e=new it({props:{$$slots:{default:[Me]},$$scope:{ctx:t}}}),a=new it({props:{padding:!0,lg:4,$$slots:{default:[Te]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment),n=E(),g(a.$$.fragment)},l(t){h(e.$$.fragment,t),n=M(t),h(a.$$.fragment,t)},m(t,s){v(e,t,s),c(t,n,s),v(a,t,s),r=!0},p(t,n){const r={};134217728&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const s={};134217728&n&&(s.$$scope={dirty:n,ctx:t}),a.$set(s)},i(t){r||(x(e.$$.fragment,t),x(a.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),w(a.$$.fragment,t),r=!1},d(t){y(e,t),t&&o(n),y(a,t)}}}function Le(t){let e,n;return e=new ct({props:{$$slots:{default:[Ie]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};134217728&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ve(t){let e,n,a,r,s,l,$,i;return e=new ke({props:{width:"48",height:"44",stroke:"black",strokeWidth:"0.7",fill:"none",type:"squa"}}),a=new pt({props:{type:"radio",labelText:"Squares",value:"squa"}}),s=new ke({props:{width:"48",height:"44",stroke:"black",strokeWidth:"0.8",fill:"none",type:"hexa"}}),$=new pt({props:{type:"radio",labelText:"Hexagons",value:"hexa"}}),{c(){g(e.$$.fragment),n=E(),g(a.$$.fragment),r=E(),g(s.$$.fragment),l=E(),g($.$$.fragment)},l(t){h(e.$$.fragment,t),n=M(t),h(a.$$.fragment,t),r=M(t),h(s.$$.fragment,t),l=M(t),h($.$$.fragment,t)},m(t,o){v(e,t,o),c(t,n,o),v(a,t,o),c(t,r,o),v(s,t,o),c(t,l,o),v($,t,o),i=!0},p:f,i(t){i||(x(e.$$.fragment,t),x(a.$$.fragment,t),x(s.$$.fragment,t),x($.$$.fragment,t),i=!0)},o(t){w(e.$$.fragment,t),w(a.$$.fragment,t),w(s.$$.fragment,t),w($.$$.fragment,t),i=!1},d(t){y(e,t),t&&o(n),y(a,t),t&&o(r),y(s,t),t&&o(l),y($,t)}}}function Be(t){let e,n;return e=new dt({props:{selected:t[5].mesh,$$slots:{default:[Ve]},$$scope:{ctx:t}}}),e.$on("change",(function(...e){return t[10](t[19],...e)})),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(n,a){t=n;const r={};134217728&a&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ne(t){let e,n;return e=new ft({props:{name:"mesh",$$slots:{default:[Be,({field:t})=>({19:t}),({field:t})=>t?524288:0]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};134217728&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function De(t){let e,n;return e=new it({props:{$$slots:{default:[Ne]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};134217728&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Fe(t){let e,n;const a=[{type:"number"},{size:"sm"},{light:!0},{labelText:"Width"},t[19],{invalid:t[26].error},{invalidText:t[26].error},{warn:t[19].value>1500},{warnText:t[26].warning}];let r={};for(let s=0;s<a.length;s+=1)r=nt(r,a[s]);return e=new mt({props:r}),e.$on("input",(function(){rt(t[19].handleInput)&&t[19].handleInput.apply(this,arguments)})),e.$on("blur",(function(){rt(t[19].handleBlur)&&t[19].handleBlur.apply(this,arguments)})),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(n,r){t=n;const s=67633152&r?st(a,[a[0],a[1],a[2],a[3],524288&r&&ot(t[19]),67108864&r&&{invalid:t[26].error},67108864&r&&{invalidText:t[26].error},524288&r&&{warn:t[19].value>1500},67108864&r&&{warnText:t[26].warning}]):{};e.$set(s)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function je(t){let e,n;return e=new ft({props:{name:"width",$$slots:{default:[Fe,({field:t,meta:e})=>({19:t,26:e}),({field:t,meta:e})=>(t?524288:0)|(e?67108864:0)]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};201850880&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function He(t){let e,n;const a=[{type:"number"},{size:"sm"},{light:!0},{labelText:"Height"},t[19],{warn:t[19].value>1e3},{warnText:t[26].warning},{invalid:t[26].error},{invalidText:t[26].error}];let r={};for(let s=0;s<a.length;s+=1)r=nt(r,a[s]);return e=new mt({props:r}),e.$on("input",(function(){rt(t[19].handleInput)&&t[19].handleInput.apply(this,arguments)})),e.$on("blur",(function(){rt(t[19].handleBlur)&&t[19].handleBlur.apply(this,arguments)})),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(n,r){t=n;const s=67633152&r?st(a,[a[0],a[1],a[2],a[3],524288&r&&ot(t[19]),524288&r&&{warn:t[19].value>1e3},67108864&r&&{warnText:t[26].warning},67108864&r&&{invalid:t[26].error},67108864&r&&{invalidText:t[26].error}]):{};e.$set(s)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function ze(t){let e,n;return e=new ft({props:{name:"height",initialWarning:sn,$$slots:{default:[He,({field:t,meta:e})=>({19:t,26:e}),({field:t,meta:e})=>(t?524288:0)|(e?67108864:0)]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};201850880&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Re(t){let e,n,a,r;return e=new it({props:{$$slots:{default:[je]},$$scope:{ctx:t}}}),a=new it({props:{$$slots:{default:[ze]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment),n=E(),g(a.$$.fragment)},l(t){h(e.$$.fragment,t),n=M(t),h(a.$$.fragment,t)},m(t,s){v(e,t,s),c(t,n,s),v(a,t,s),r=!0},p(t,n){const r={};134217728&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const s={};134217728&n&&(s.$$scope={dirty:n,ctx:t}),a.$set(s)},i(t){r||(x(e.$$.fragment,t),x(a.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),w(a.$$.fragment,t),r=!1},d(t){y(e,t),t&&o(n),y(a,t)}}}function Ue(t){let e,n,a,r;return e=new ct({props:{$$slots:{default:[De]},$$scope:{ctx:t}}}),a=new ct({props:{$$slots:{default:[Re]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment),n=E(),g(a.$$.fragment)},l(t){h(e.$$.fragment,t),n=M(t),h(a.$$.fragment,t)},m(t,s){v(e,t,s),c(t,n,s),v(a,t,s),r=!0},p(t,n){const r={};134217728&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const s={};134217728&n&&(s.$$scope={dirty:n,ctx:t}),a.$set(s)},i(t){r||(x(e.$$.fragment,t),x(a.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),w(a.$$.fragment,t),r=!1},d(t){y(e,t),t&&o(n),y(a,t)}}}function Pe(t){let e,n;return e=new A({props:{value:t[20],text:t[21]}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p:f,i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ze(t){let e,n,a=Object.entries(t[2]),r=[];for(let o=0;o<a.length;o+=1)r[o]=Pe(Ce(t,a,o));const s=t=>w(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=j()},l(t){for(let e=0;e<r.length;e+=1)r[e].l(t);e=j()},m(t,a){for(let e=0;e<r.length;e+=1)r[e].m(t,a);c(t,e,a),n=!0},p(t,n){if(4&n){let o;for(a=Object.entries(t[2]),o=0;o<a.length;o+=1){const s=Ce(t,a,o);r[o]?(r[o].p(s,n),x(r[o],1)):(r[o]=Pe(s),r[o].c(),x(r[o],1),r[o].m(e.parentNode,e))}for(S(),o=a.length;o<r.length;o+=1)s(o);T()}},i(t){if(!n){for(let t=0;t<a.length;t+=1)x(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)w(r[e]);n=!1},d(t){z(r,t),t&&o(e)}}}function We(t){let e,n;return e=new A({props:{value:t[20],text:t[21]}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p:f,i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ae(t){let e,n,a=Object.entries(t[3]),r=[];for(let o=0;o<a.length;o+=1)r[o]=We(be(t,a,o));const s=t=>w(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=j()},l(t){for(let e=0;e<r.length;e+=1)r[e].l(t);e=j()},m(t,a){for(let e=0;e<r.length;e+=1)r[e].m(t,a);c(t,e,a),n=!0},p(t,n){if(8&n){let o;for(a=Object.entries(t[3]),o=0;o<a.length;o+=1){const s=be(t,a,o);r[o]?(r[o].p(s,n),x(r[o],1)):(r[o]=We(s),r[o].c(),x(r[o],1),r[o].m(e.parentNode,e))}for(S(),o=a.length;o<r.length;o+=1)s(o);T()}},i(t){if(!n){for(let t=0;t<a.length;t+=1)x(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)w(r[e]);n=!1},d(t){z(r,t),t&&o(e)}}}function Oe(t){let e,n,a,r,s,l;return e=new A({props:{value:"mesh",text:"No Template"}}),a=new W({props:{label:"Hexagonal",$$slots:{default:[Ze]},$$scope:{ctx:t}}}),s=new W({props:{label:"Square",$$slots:{default:[Ae]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment),n=E(),g(a.$$.fragment),r=E(),g(s.$$.fragment)},l(t){h(e.$$.fragment,t),n=M(t),h(a.$$.fragment,t),r=M(t),h(s.$$.fragment,t)},m(t,o){v(e,t,o),c(t,n,o),v(a,t,o),c(t,r,o),v(s,t,o),l=!0},p(t,e){const n={};134217728&e&&(n.$$scope={dirty:e,ctx:t}),a.$set(n);const r={};134217728&e&&(r.$$scope={dirty:e,ctx:t}),s.$set(r)},i(t){l||(x(e.$$.fragment,t),x(a.$$.fragment,t),x(s.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),w(a.$$.fragment,t),w(s.$$.fragment,t),l=!1},d(t){y(e,t),t&&o(n),y(a,t),t&&o(r),y(s,t)}}}function Xe(t){let e,n;return e=new Z({props:{light:!0,size:"sm",inline:!0,$$slots:{default:[Oe]},$$scope:{ctx:t}}}),e.$on("change",(function(...e){return t[11](t[19],...e)})),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(n,a){t=n;const r={};134217728&a&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ye(t){let e,n;return e=new ft({props:{name:"template",$$slots:{default:[Xe,({field:t})=>({19:t}),({field:t})=>t?524288:0]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};134217728&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Je(t){let e,n;return e=new it({props:{$$slots:{default:[Ye]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};134217728&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ge(t){let e,n;return e=new ct({props:{$$slots:{default:[Je]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};134217728&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ke(t){let e;return{c(){e=X("Cancel")},l(t){e=Y(t,"Cancel")},m(t,n){c(t,e,n)},d(t){t&&o(e)}}}function Qe(t){let e;return{c(){e=X("Submit")},l(t){e=Y(t,"Submit")},m(t,n){c(t,e,n)},d(t){t&&o(e)}}}function _e(t){let e,n,a,r;return e=new K({props:{kind:"secondary",$$slots:{default:[Ke]},$$scope:{ctx:t}}}),e.$on("click",t[12]),a=new K({props:{type:"submit",disabled:t[1],$$slots:{default:[Qe]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment),n=E(),g(a.$$.fragment)},l(t){h(e.$$.fragment,t),n=M(t),h(a.$$.fragment,t)},m(t,s){v(e,t,s),c(t,n,s),v(a,t,s),r=!0},p(t,n){const r={};134217728&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const s={};2&n&&(s.disabled=t[1]),134217728&n&&(s.$$scope={dirty:n,ctx:t}),a.$set(s)},i(t){r||(x(e.$$.fragment,t),x(a.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),w(a.$$.fragment,t),r=!1},d(t){y(e,t),t&&o(n),y(a,t)}}}function tn(t){let e,n,a,r,s,l,$,i;return e=new lt({props:{legendText:"Canvas",$$slots:{default:[Le]},$$scope:{ctx:t}}}),a=new lt({props:{legendText:"Options",$$slots:{default:[Ue]},$$scope:{ctx:t}}}),s=new lt({props:{legendText:"Choose from a custom template",$$slots:{default:[Ge]},$$scope:{ctx:t}}}),$=new $t({props:{$$slots:{default:[_e]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment),n=E(),g(a.$$.fragment),r=E(),g(s.$$.fragment),l=E(),g($.$$.fragment)},l(t){h(e.$$.fragment,t),n=M(t),h(a.$$.fragment,t),r=M(t),h(s.$$.fragment,t),l=M(t),h($.$$.fragment,t)},m(t,o){v(e,t,o),c(t,n,o),v(a,t,o),c(t,r,o),v(s,t,o),c(t,l,o),v($,t,o),i=!0},p(t,n){const r={};134217728&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const o={};134217728&n&&(o.$$scope={dirty:n,ctx:t}),a.$set(o);const l={};134217728&n&&(l.$$scope={dirty:n,ctx:t}),s.$set(l);const c={};134217731&n&&(c.$$scope={dirty:n,ctx:t}),$.$set(c)},i(t){i||(x(e.$$.fragment,t),x(a.$$.fragment,t),x(s.$$.fragment,t),x($.$$.fragment,t),i=!0)},o(t){w(e.$$.fragment,t),w(a.$$.fragment,t),w(s.$$.fragment,t),w($.$$.fragment,t),i=!1},d(t){y(e,t),t&&o(n),y(a,t),t&&o(r),y(s,t),t&&o(l),y($,t)}}}function en(t){let e,n;const a=[t[16]];let r={$$slots:{default:[tn]},$$scope:{ctx:t}};for(let s=0;s<a.length;s+=1)r=nt(r,a[s]);return e=new at({props:r}),e.$on("submit",(function(){rt(t[16].handleSubmit)&&t[16].handleSubmit.apply(this,arguments)})),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(n,r){t=n;const s=65536&r?st(a,[ot(t[16])]):{};134217731&r&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function nn(t){let e,n,a;function r(e){t[13](e)}let s={initialValues:t[5],initialWarnings:t[6],validate:t[7],onSubmit:t[8],$$slots:{default:[en,({props:t,values:e,setFieldWarning:n})=>({16:t,17:e,18:n}),({props:t,values:e,setFieldWarning:n})=>(t?65536:0)|(e?131072:0)|(n?262144:0)]},$$scope:{ctx:t}};return void 0!==t[1]&&(s.isSubmitting=t[1]),e=new et({props:s}),U.push((()=>P(e,"isSubmitting",r))),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,n){v(e,t,n),a=!0},p(t,a){const r={};134283267&a&&(r.$$scope={dirty:a,ctx:t}),!n&&2&a&&(n=!0,r.isSubmitting=t[1],F((()=>n=!1))),e.$set(r)},i(t){a||(x(e.$$.fragment,t),a=!0)},o(t){w(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function an(t){let e,n;return e=new tt({props:{padding:!0,$$slots:{default:[nn]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};134217731&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function rn(t){let e,n,a,r,s;function l(e){t[14](e)}e=new K({props:{icon:Q,kind:"ghost",size:"small",$$slots:{default:[qe]},$$scope:{ctx:t}}}),e.$on("click",t[9]);let $={modalHeading:"",passiveModal:!0,size:"sm",hasForm:!0,$$slots:{default:[an]},$$scope:{ctx:t}};return void 0!==t[0]&&($.open=t[0]),a=new _({props:$}),U.push((()=>P(a,"open",l))),{c(){g(e.$$.fragment),n=E(),g(a.$$.fragment)},l(t){h(e.$$.fragment,t),n=M(t),h(a.$$.fragment,t)},m(t,r){v(e,t,r),c(t,n,r),v(a,t,r),s=!0},p(t,[n]){const s={};134217728&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const o={};134217731&n&&(o.$$scope={dirty:n,ctx:t}),!r&&1&n&&(r=!0,o.open=t[0],F((()=>r=!1))),a.$set(o)},i(t){s||(x(e.$$.fragment,t),x(a.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),w(a.$$.fragment,t),s=!1},d(t){y(e,t),t&&o(n),y(a,t)}}}const sn="Mesh grids with many pixels could affect performance";function on(t,e,n){let a;u(t,qt,(t=>n(15,a=t)));let r=!1,s=!1;return[r,s,{"mesh-welcome":"Canvas ~ Urbit","mesh-hackathon":"Urbit Hackathon","mesh-homer":"Homer Simpson"},{"mesh-monkey":"Monkey Island","mesh-dumas":"Dumas-Dutil Cosmic Call"},undefined,{name:"",mesh:"squa",private:!0,template:"mesh"},{width:sn,height:sn},function(t){const e={name:"",width:"",height:""};return""===t.name&&(e.name="Name Required"),(a.privateCanvas.includes(`~${a.ship}/${Qt(t.name)}`)||a.publicCanvas.includes(`~${a.ship}/${Qt(t.name)}`))&&(e.name="Canvas Title already exists..."),"mesh"==t.template&&t.width<648&&(e.width="Min width 648"),"mesh"==t.template&&t.width>1890&&(e.width="Max width 1890"),"mesh"==t.template&&t.height<648&&(e.height="Min height 648"),"mesh"==t.template&&t.height>1890&&(e.height="Max height 1890"),"mesh"!=t.template||t.width||(e.width="Width required"),"mesh"!=t.template||t.height||(e.height="Height required"),e},function(t,{setSubmitting:e}){console.log("[ creating canvas... ]",t);const o=Qt(t.name),l=2*a.radius*Math.sin(Math.PI/3),$=t.width?Math.ceil(t.width/l)+1:0;a.api.create(o,"~"+a.ship,t.template,t.private,t.width?t.width:0,t.height?t.height:0,$,t.mesh).then((()=>{console.log("[ success new canvas... ]",t.name),n(0,r=!1),n(1,s=!1)}))},()=>n(0,r=!0),(t,e)=>{if(!e.detail)return;const n={name:"mesh",value:e.detail};return t.handleInput({target:n})},(t,e)=>{if(!e.detail)return;const n={name:"template",value:e.detail};return t.handleInput({target:n})},()=>n(0,r=!1),function(t){s=t,n(1,s)},function(t){r=t,n(0,r)}]}class ln extends t{constructor(t){super(),e(this,t,on,rn,n,{})}}function $n(t){let e;return{c(){e=X("Join")},l(t){e=Y(t,"Join")},m(t,n){c(t,e,n)},d(t){t&&o(e)}}}function cn(t){let e,n;const a=[{inline:!0},{size:"sm"},{light:!0},{labelText:"Path"},{placeholder:"~sampel-palnet/canvas"},t[12],{invalid:t[13].error},{type:"text"},{invalidText:t[13].error}];let r={};for(let s=0;s<a.length;s+=1)r=nt(r,a[s]);return e=new mt({props:r}),e.$on("input",(function(){rt(t[12].handleInput)&&t[12].handleInput.apply(this,arguments)})),e.$on("blur",(function(){rt(t[12].handleBlur)&&t[12].handleBlur.apply(this,arguments)})),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(n,r){t=n;const s=12288&r?st(a,[a[0],a[1],a[2],a[3],a[4],4096&r&&ot(t[12]),8192&r&&{invalid:t[13].error},a[7],8192&r&&{invalidText:t[13].error}]):{};e.$set(s)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function fn(t){let e,n;return e=new ft({props:{name:"name",$$slots:{default:[cn,({field:t,meta:e})=>({12:t,13:e}),({field:t,meta:e})=>(t?4096:0)|(e?8192:0)]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};28672&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function mn(t){let e,n;return e=new it({props:{$$slots:{default:[fn]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};16384&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function un(t){let e,n;return e=new ct({props:{$$slots:{default:[mn]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};16384&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function dn(t){let e;return{c(){e=X("Cancel")},l(t){e=Y(t,"Cancel")},m(t,n){c(t,e,n)},d(t){t&&o(e)}}}function pn(t){let e;return{c(){e=X("Join")},l(t){e=Y(t,"Join")},m(t,n){c(t,e,n)},d(t){t&&o(e)}}}function gn(t){let e,n,a,r;return e=new K({props:{kind:"secondary",$$slots:{default:[dn]},$$scope:{ctx:t}}}),e.$on("click",t[6]),a=new K({props:{type:"submit",disabled:t[1],$$slots:{default:[pn]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment),n=E(),g(a.$$.fragment)},l(t){h(e.$$.fragment,t),n=M(t),h(a.$$.fragment,t)},m(t,s){v(e,t,s),c(t,n,s),v(a,t,s),r=!0},p(t,n){const r={};16384&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const s={};2&n&&(s.disabled=t[1]),16384&n&&(s.$$scope={dirty:n,ctx:t}),a.$set(s)},i(t){r||(x(e.$$.fragment,t),x(a.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),w(a.$$.fragment,t),r=!1},d(t){y(e,t),t&&o(n),y(a,t)}}}function hn(t){let e,n,a,r;return e=new lt({props:{legendText:"Remote Canvas Name",$$slots:{default:[un]},$$scope:{ctx:t}}}),a=new $t({props:{$$slots:{default:[gn]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment),n=E(),g(a.$$.fragment)},l(t){h(e.$$.fragment,t),n=M(t),h(a.$$.fragment,t)},m(t,s){v(e,t,s),c(t,n,s),v(a,t,s),r=!0},p(t,n){const r={};16384&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const s={};16387&n&&(s.$$scope={dirty:n,ctx:t}),a.$set(s)},i(t){r||(x(e.$$.fragment,t),x(a.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),w(a.$$.fragment,t),r=!1},d(t){y(e,t),t&&o(n),y(a,t)}}}function vn(t){let e,n;const a=[t[11]];let r={$$slots:{default:[hn]},$$scope:{ctx:t}};for(let s=0;s<a.length;s+=1)r=nt(r,a[s]);return e=new at({props:r}),e.$on("submit",(function(){rt(t[11].handleSubmit)&&t[11].handleSubmit.apply(this,arguments)})),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(n,r){t=n;const s=2048&r?st(a,[ot(t[11])]):{};16387&r&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function xn(t){let e,n,a;function r(e){t[7](e)}let s={initialValues:t[2],validate:t[3],onSubmit:t[4],$$slots:{default:[vn,({props:t})=>({11:t}),({props:t})=>t?2048:0]},$$scope:{ctx:t}};return void 0!==t[1]&&(s.isSubmitting=t[1]),e=new et({props:s}),U.push((()=>P(e,"isSubmitting",r))),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,n){v(e,t,n),a=!0},p(t,a){const r={};18435&a&&(r.$$scope={dirty:a,ctx:t}),!n&&2&a&&(n=!0,r.isSubmitting=t[1],F((()=>n=!1))),e.$set(r)},i(t){a||(x(e.$$.fragment,t),a=!0)},o(t){w(e.$$.fragment,t),a=!1},d(t){y(e,t)}}}function wn(t){let e,n;return e=new tt({props:{padding:!0,$$slots:{default:[xn]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};16387&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function yn(t){let e,n,a,r,s;function l(e){t[8](e)}e=new K({props:{icon:gt,kind:"ghost",size:"small",$$slots:{default:[$n]},$$scope:{ctx:t}}}),e.$on("click",t[5]);let $={size:"sm",hasForm:!0,passiveModal:!0,modalHeading:"",$$slots:{default:[wn]},$$scope:{ctx:t}};return void 0!==t[0]&&($.open=t[0]),a=new _({props:$}),U.push((()=>P(a,"open",l))),{c(){g(e.$$.fragment),n=E(),g(a.$$.fragment)},l(t){h(e.$$.fragment,t),n=M(t),h(a.$$.fragment,t)},m(t,r){v(e,t,r),c(t,n,r),v(a,t,r),s=!0},p(t,[n]){const s={};16384&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const o={};16387&n&&(o.$$scope={dirty:n,ctx:t}),!r&&1&n&&(r=!0,o.open=t[0],F((()=>r=!1))),a.$set(o)},i(t){s||(x(e.$$.fragment,t),x(a.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),w(a.$$.fragment,t),s=!1},d(t){y(e,t),t&&o(n),y(a,t)}}}function kn(t,e,n){let a;u(t,qt,(t=>n(9,a=t)));const r=d();let s=!1,o=!1;return[s,o,{name:""},t=>{const e={name:"",width:"",height:""};return""===t.name&&(e.name="Path Required"),console.log(e),e},(t,{setSubmitting:e})=>{const[l,$]=t.name.split("/");a.api.join(l,$).then((()=>{console.log("[ success join canvas... ]",t.name),r("joincanvas",{name:t.name}),n(0,s=!1),n(1,o=!1)}))},()=>n(0,s=!0),()=>n(0,s=!1),function(t){o=t,n(1,o)},function(t){s=t,n(0,s)}]}class bn extends t{constructor(t){super(),e(this,t,kn,yn,n,{})}}function Cn(t,e,n){const a=t.slice();return a[8]=e[n],a}function qn(t){let e,n,$,f,m,u;function d(){return t[6](t[8])}return{c(){e=a("rect"),this.h()},l(t){e=r(t,"rect",{x:!0,width:!0,height:!0,stroke:!0,fill:!0},1),s(e).forEach(o),this.h()},h(){l(e,"x",n=t[8]<9?15*t[8]:15*(t[8]+1)),l(e,"width",t[1]),l(e,"height",t[1]),l(e,"stroke",$=t[8]===t[2]?"#000":"gray"),l(e,"fill",f=t[8]<9?t[3](t[8]):t[4](t[8]))},m(t,n){c(t,e,n),m||(u=i(e,"click",d),m=!0)},p(a,r){t=a,1&r&&n!==(n=t[8]<9?15*t[8]:15*(t[8]+1))&&l(e,"x",n),2&r&&l(e,"width",t[1]),2&r&&l(e,"height",t[1]),5&r&&$!==($=t[8]===t[2]?"#000":"gray")&&l(e,"stroke",$),1&r&&f!==(f=t[8]<9?t[3](t[8]):t[4](t[8]))&&l(e,"fill",f)},d(t){t&&o(e),m=!1,u()}}}function En(t){let e,n=t[0],a=[];for(let r=0;r<n.length;r+=1)a[r]=qn(Cn(t,n,r));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=j()},l(t){for(let e=0;e<a.length;e+=1)a[e].l(t);e=j()},m(t,n){for(let e=0;e<a.length;e+=1)a[e].m(t,n);c(t,e,n)},p(t,[r]){if(63&r){let s;for(n=t[0],s=0;s<n.length;s+=1){const o=Cn(t,n,s);a[s]?a[s].p(o,r):(a[s]=qn(o),a[s].c(),a[s].m(e.parentNode,e))}for(;s<a.length;s+=1)a[s].d(1);a.length=n.length}},i:f,o:f,d(t){z(a,t),t&&o(e)}}}function Mn(t,e,n){let{colors:a}=e,{size:r}=e,s=0;const o=d(),l=ht().domain(vt(9)).range(["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"]),$=ht().domain(vt(9)).range(xt[9]);function c(t){n(2,s=t),o("color",{color:t<9?l(t):$(t)})}return t.$$set=t=>{"colors"in t&&n(0,a=t.colors),"size"in t&&n(1,r=t.size)},[a,r,s,l,$,c,t=>c(t)]}class Sn extends t{constructor(t){super(),e(this,t,Mn,En,n,{colors:0,size:1})}}function Tn(t){let e,n;return e=new ct({props:{$$slots:{default:[Hn]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};143&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function In(t){let e,n;return e=new me({props:{selectedCanvas:t[3].name}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};8&n&&(a.selectedCanvas=t[3].name),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Ln(t){let e,n;return e=new ct({props:{$$slots:{default:[In]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};136&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Vn(t){let e,n;return e=new ln({}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Bn(t){let e,n;return e=new ct({props:{$$slots:{default:[Vn]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};128&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Nn(t){let e,n;return e=new bn({}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Dn(t){let e,n;return e=new ct({props:{$$slots:{default:[Nn]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};128&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Fn(t){let e,n,a;return n=new he({props:{startColor:t[2]}}),n.$on("colorChange",t[4]),{c(){e=O("div"),g(n.$$.fragment),this.h()},l(t){e=r(t,"DIV",{class:!0});var a=s(e);h(n.$$.fragment,a),a.forEach(o),this.h()},h(){l(e,"class",bt("colorPicker")+" svelte-vgsoer")},m(t,r){c(t,e,r),v(n,e,null),a=!0},p(t,e){const a={};4&e&&(a.startColor=t[2]),n.$set(a)},i(t){a||(x(n.$$.fragment,t),a=!0)},o(t){w(n.$$.fragment,t),a=!1},d(t){t&&o(e),y(n)}}}function jn(t){let e,n,$,i,f,m,u;function d(e){t[5](e)}e=new yt({props:{align:"center",icon:kt,$$slots:{default:[Fn]},$$scope:{ctx:t}}});let p={size:12};return void 0!==t[0]&&(p.colors=t[0]),f=new Sn({props:p}),U.push((()=>P(f,"colors",d))),f.$on("color",t[6]),{c(){g(e.$$.fragment),n=E(),$=a("svg"),i=a("g"),g(f.$$.fragment),this.h()},l(t){h(e.$$.fragment,t),n=M(t),$=r(t,"svg",{height:!0,class:!0},1);var a=s($);i=r(a,"g",{id:!0,class:!0,transform:!0},1);var l=s(i);h(f.$$.fragment,l),l.forEach(o),a.forEach(o),this.h()},h(){l(i,"id","legend"),l(i,"class","palette svelte-vgsoer"),l(i,"transform","translate(13, 1)"),l($,"height",15),l($,"class","svelte-vgsoer")},m(t,a){v(e,t,a),c(t,n,a),c(t,$,a),H($,i),v(f,i,null),u=!0},p(t,n){const a={};132&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a);const r={};!m&&1&n&&(m=!0,r.colors=t[0],F((()=>m=!1))),f.$set(r)},i(t){u||(x(e.$$.fragment,t),x(f.$$.fragment,t),u=!0)},o(t){w(e.$$.fragment,t),w(f.$$.fragment,t),u=!1},d(t){y(e,t),t&&o(n),t&&o($),y(f)}}}function Hn(t){let e,n,a,r,s,l,$,i;return e=new it({props:{padding:!0,$$slots:{default:[Ln]},$$scope:{ctx:t}}}),a=new it({props:{padding:!0,$$slots:{default:[Bn]},$$scope:{ctx:t}}}),s=new it({props:{padding:!0,$$slots:{default:[Dn]},$$scope:{ctx:t}}}),$=new it({props:{$$slots:{default:[jn]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment),n=E(),g(a.$$.fragment),r=E(),g(s.$$.fragment),l=E(),g($.$$.fragment)},l(t){h(e.$$.fragment,t),n=M(t),h(a.$$.fragment,t),r=M(t),h(s.$$.fragment,t),l=M(t),h($.$$.fragment,t)},m(t,o){v(e,t,o),c(t,n,o),v(a,t,o),c(t,r,o),v(s,t,o),c(t,l,o),v($,t,o),i=!0},p(t,n){const r={};136&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const o={};128&n&&(o.$$scope={dirty:n,ctx:t}),a.$set(o);const l={};128&n&&(l.$$scope={dirty:n,ctx:t}),s.$set(l);const c={};135&n&&(c.$$scope={dirty:n,ctx:t}),$.$set(c)},i(t){i||(x(e.$$.fragment,t),x(a.$$.fragment,t),x(s.$$.fragment,t),x($.$$.fragment,t),i=!0)},o(t){w(e.$$.fragment,t),w(a.$$.fragment,t),w(s.$$.fragment,t),w($.$$.fragment,t),i=!1},d(t){y(e,t),t&&o(n),y(a,t),t&&o(r),y(s,t),t&&o(l),y($,t)}}}function zn(t){let e,n;return e=new Ct({props:{small:!0}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p:f,i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Rn(t){let e,n,a=An(t[3].canvas[t[3].name].metadata),r=a&&Un(t);return{c(){r&&r.c(),e=j()},l(t){r&&r.l(t),e=j()},m(t,a){r&&r.m(t,a),c(t,e,a),n=!0},p(t,n){8&n&&(a=An(t[3].canvas[t[3].name].metadata)),a?r?(r.p(t,n),8&n&&x(r,1)):(r=Un(t),r.c(),x(r,1),r.m(e.parentNode,e)):r&&(S(),w(r,1,1,(()=>{r=null})),T())},i(t){n||(x(r),n=!0)},o(t){w(r),n=!1},d(t){r&&r.d(t),t&&o(e)}}}function Un(t){let e,n;return e=new Kt({props:{canvas:t[3].canvas[t[3].name],color:t[1],width:t[3].canvas[t[3].name].metadata.width,height:t[3].canvas[t[3].name].metadata.height}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};8&n&&(a.canvas=t[3].canvas[t[3].name]),2&n&&(a.color=t[1]),8&n&&(a.width=t[3].canvas[t[3].name].metadata.width),8&n&&(a.height=t[3].canvas[t[3].name].metadata.height),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Pn(t){let e,n,a,$;const i=[Rn,zn],f=[];function m(t,e){return t[3].canvas&&t[3].name&&!t[3].leaving?0:1}return n=m(t),a=f[n]=i[n](t),{c(){e=O("div"),a.c(),this.h()},l(t){e=r(t,"DIV",{class:!0});var n=s(e);a.l(n),n.forEach(o),this.h()},h(){l(e,"class","svelte-vgsoer")},m(t,a){c(t,e,a),f[n].m(e,null),$=!0},p(t,r){let s=n;n=m(t),n===s?f[n].p(t,r):(S(),w(f[s],1,1,(()=>{f[s]=null})),T(),a=f[n],a?a.p(t,r):(a=f[n]=i[n](t),a.c()),x(a,1),a.m(e,null))},i(t){$||(x(a),$=!0)},o(t){w(a),$=!1},d(t){t&&o(e),f[n].d()}}}function Zn(t){let e,n;return e=new it({props:{$$slots:{default:[Pn]},$$scope:{ctx:t}}}),{c(){g(e.$$.fragment)},l(t){h(e.$$.fragment,t)},m(t,a){v(e,t,a),n=!0},p(t,n){const a={};138&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){y(e,t)}}}function Wn(t){let e,n,a,$,i=t[3].canvas&&Tn(t);return a=new ct({props:{padding:!0,$$slots:{default:[Zn]},$$scope:{ctx:t}}}),{c(){e=O("div"),i&&i.c(),n=E(),g(a.$$.fragment),this.h()},l(t){e=r(t,"DIV",{class:!0});var l=s(e);i&&i.l(l),l.forEach(o),n=M(t),h(a.$$.fragment,t),this.h()},h(){l(e,"class","svelte-vgsoer")},m(t,r){c(t,e,r),i&&i.m(e,null),c(t,n,r),v(a,t,r),$=!0},p(t,[n]){t[3].canvas?i?(i.p(t,n),8&n&&x(i,1)):(i=Tn(t),i.c(),x(i,1),i.m(e,null)):i&&(S(),w(i,1,1,(()=>{i=null})),T());const r={};138&n&&(r.$$scope={dirty:n,ctx:t}),a.$set(r)},i(t){$||(x(i),x(a.$$.fragment,t),$=!0)},o(t){w(i),w(a.$$.fragment,t),$=!1},d(t){t&&o(e),i&&i.d(),t&&o(n),y(a,t)}}}function An(t){return"draw"!==t.template}function On(t,e,n){let a;u(t,qt,(t=>n(3,a=t)));let r=vt(18),s="#d53e4f",o=s;return[r,s,o,a,function(t){const{r:e,g:a,b:r,a:l}=t.detail;isNaN(e)||isNaN(e)||isNaN(r)||n(1,s=wt(e,a,r,l).formatRgb()),n(2,o=wt(e,a,r,l).formatHex())},function(t){r=t,n(0,r)},t=>{n(1,s=t.detail.color),n(2,o=s)}]}export default class extends t{constructor(t){super(),e(this,t,On,Wn,n,{})}}

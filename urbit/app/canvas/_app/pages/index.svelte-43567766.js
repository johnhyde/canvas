import{S as t,i as e,s as n,M as a,c as o,a as s,d as r,b as $,N as c,f as l,O as i,L as f,P as m,Q as g,R as p,T as u,l as d,U as h,V as w,W as v,X as x,v as y,j as b,m as k,o as M,Y as S,r as C,w as E,B as N,u as j,k as T,n as L,G as P,Z as O,$ as z,a0 as B,a1 as I,a2 as q,a3 as R,a4 as H,a5 as V,a6 as J,t as _,g as A,a7 as D,a8 as G,a9 as Y,aa as Q,ab as U,ac as W,e as X,ad as Z,ae as F,af as K,ag as tt,ah as et,ai as nt}from"../chunks/vendor-aa83d449.js";import{a as at,e as ot}from"../chunks/store-70363575.js";function st(t,e,n){const{x:a,y:o}=function(t,e){return{x:Math.floor(t/e),y:t%e}}(t,e);return Math.floor(function(t,e,n){return n*t+e}(a,o+0,n))}function rt(t){let e,n,g,p,u;return{c(){e=a("path"),this.h()},l(t){e=o(t,"path",{d:!0,fill:!0,class:!0},1),s(e).forEach(r),this.h()},h(){$(e,"d",n=t[2](c(t[0],t[1]))),$(e,"fill",g=t[1].attr&&t[1].attr.fill?t[1].attr.color:void 0),$(e,"class","svelte-td270i")},m(n,a){l(n,e,a),p||(u=[i(e,"mousedown",t[3]),i(e,"mouseup",t[5]),i(e,"mousemove",t[4])],p=!0)},p(t,[a]){3&a&&n!==(n=t[2](c(t[0],t[1])))&&$(e,"d",n),2&a&&g!==(g=t[1].attr&&t[1].attr.fill?t[1].attr.color:void 0)&&$(e,"fill",g)},i:f,o:f,d(t){t&&r(e),p=!1,m(u)}}}function $t(t,e,n){let a,{topology:o}=e,{d:s}=e,{selectedColor:r}=e,{mousing:$}=e;const c=g(),l=function(t){const e=2*t*Math.sin(Math.PI/3),n=1.5*t;return{stream:function(t){return{point:function(a,o){t.point(a*e/2,(o-(2-(1&o))/3)*n/2)},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}}}(10),i=p().projection(l);function f(){if($){const t=$>0;c("update",{id:s.id,data:{fill:t,color:t?a:void 0}}),0!==$&&c("save",{id:s.id,fill:t,color:$>0?a:""})}}return t.$$set=t=>{"topology"in t&&n(0,o=t.topology),"d"in t&&n(1,s=t.d),"selectedColor"in t&&n(7,r=t.selectedColor),"mousing"in t&&n(6,$=t.mousing)},t.$$.update=()=>{128&t.$$.dirty&&(a=u(r).formatHex())},[o,s,i,function(t){3!==t.which&&(n(6,$=s.attr.fill&&s.attr.color===a?-1:1),f())},f,function(){f(),n(6,$=0),c("flush")},$,r]}class ct extends t{constructor(t){super(),e(this,t,$t,rt,n,{topology:0,d:1,selectedColor:7,mousing:6})}}function lt(t,e,n){const a=t.slice();return a[7]=e[n],a}function it(t){let e,n,c,f,m,g;function p(){return t[5](t[7])}return{c(){e=a("rect"),this.h()},l(t){e=o(t,"rect",{x:!0,width:!0,height:!0,stroke:!0,fill:!0},1),s(e).forEach(r),this.h()},h(){$(e,"x",n=t[7]<9?24*t[7]:24*(t[7]+1)),$(e,"width","21"),$(e,"height","21"),$(e,"stroke",c=t[7]===t[1]?"#000":"gray"),$(e,"fill",f=t[7]<9?t[2](t[7]):t[3](t[7]))},m(t,n){l(t,e,n),m||(g=i(e,"click",p),m=!0)},p(a,o){t=a,1&o&&n!==(n=t[7]<9?24*t[7]:24*(t[7]+1))&&$(e,"x",n),3&o&&c!==(c=t[7]===t[1]?"#000":"gray")&&$(e,"stroke",c),1&o&&f!==(f=t[7]<9?t[2](t[7]):t[3](t[7]))&&$(e,"fill",f)},d(t){t&&r(e),m=!1,g()}}}function ft(t){let e,n=t[0],a=[];for(let o=0;o<n.length;o+=1)a[o]=it(lt(t,n,o));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=d()},l(t){for(let e=0;e<a.length;e+=1)a[e].l(t);e=d()},m(t,n){for(let e=0;e<a.length;e+=1)a[e].m(t,n);l(t,e,n)},p(t,[o]){if(31&o){let s;for(n=t[0],s=0;s<n.length;s+=1){const r=lt(t,n,s);a[s]?a[s].p(r,o):(a[s]=it(r),a[s].c(),a[s].m(e.parentNode,e))}for(;s<a.length;s+=1)a[s].d(1);a.length=n.length}},i:f,o:f,d(t){h(a,t),t&&r(e)}}}function mt(t,e,n){let{colors:a}=e,o=0;const s=g(),r=w().domain(v(9)).range(["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"]),$=w().domain(v(9)).range(x[9]);function c(t){n(1,o=t),s("color",{color:t<9?r(t):$(t)})}return t.$$set=t=>{"colors"in t&&n(0,a=t.colors)},[a,o,r,$,c,t=>c(t)]}class gt extends t{constructor(t){super(),e(this,t,mt,ft,n,{colors:0})}}function pt(t,e,n){const a=t.slice();return a[24]=e[n],a[25]=e,a[26]=n,a}function ut(t){let e,n,a=t[4],o=[];for(let r=0;r<a.length;r+=1)o[r]=dt(pt(t,a,r));const s=t=>C(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=d()},l(t){for(let e=0;e<o.length;e+=1)o[e].l(t);e=d()},m(t,a){for(let e=0;e<o.length;e+=1)o[e].m(t,a);l(t,e,a),n=!0},p(t,n){if(14648&n){let r;for(a=t[4],r=0;r<a.length;r+=1){const s=pt(t,a,r);o[r]?(o[r].p(s,n),y(o[r],1)):(o[r]=dt(s),o[r].c(),y(o[r],1),o[r].m(e.parentNode,e))}for(N(),r=a.length;r<o.length;r+=1)s(r);j()}},i(t){if(!n){for(let t=0;t<a.length;t+=1)y(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)C(o[e]);n=!1},d(t){h(o,t),t&&r(e)}}}function dt(t){let e,n,a,o,s,r;function $(e){t[15](e)}function c(e){t[16](e,t[24],t[25],t[26])}function l(e){t[17](e)}function i(e){t[18](e)}let f={};return void 0!==t[3]&&(f.topology=t[3]),void 0!==t[24]&&(f.d=t[24]),void 0!==t[8]&&(f.selectedColor=t[8]),void 0!==t[5]&&(f.mousing=t[5]),e=new ct({props:f}),z.push((()=>B(e,"topology",$))),z.push((()=>B(e,"d",c))),z.push((()=>B(e,"selectedColor",l))),z.push((()=>B(e,"mousing",i))),e.$on("update",t[11]),e.$on("save",t[12]),e.$on("flush",t[13]),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,n){M(e,t,n),r=!0},p(r,$){t=r;const c={};!n&&8&$&&(n=!0,c.topology=t[3],S((()=>n=!1))),!a&&16&$&&(a=!0,c.d=t[24],S((()=>a=!1))),!o&&256&$&&(o=!0,c.selectedColor=t[8],S((()=>o=!1))),!s&&32&$&&(s=!0,c.mousing=t[5],S((()=>s=!1))),e.$set(c)},i(t){r||(y(e.$$.fragment,t),r=!0)},o(t){C(e.$$.fragment,t),r=!1},d(t){E(e,t)}}}function ht(t){let e,n,c,i,f;function m(e){t[19](e)}let g={};return void 0!==t[6]&&(g.colors=t[6]),n=new gt({props:g}),z.push((()=>B(n,"colors",m))),n.$on("color",t[14]),{c(){e=a("g"),b(n.$$.fragment),this.h()},l(t){e=o(t,"g",{class:!0,transform:!0},1);var a=s(e);k(n.$$.fragment,a),a.forEach(r),this.h()},h(){$(e,"class","palette svelte-qbitw6"),$(e,"transform",i=`translate(${t[1]/2-216-3}, ${2.5*bt})`)},m(t,a){l(t,e,a),M(n,e,null),f=!0},p(t,a){const o={};!c&&64&a&&(c=!0,o.colors=t[6],S((()=>c=!1))),n.$set(o),(!f||2&a&&i!==(i=`translate(${t[1]/2-216-3}, ${2.5*bt})`))&&$(e,"transform",i)},i(t){f||(y(n.$$.fragment,t),f=!0)},o(t){C(n.$$.fragment,t),f=!1},d(t){t&&r(e),E(n)}}}function wt(t){let e,n;return e=new I({props:{open:t[10],$$slots:{default:[xt]},$$scope:{ctx:t}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){M(e,t,a),n=!0},p(t,n){const a={};134218368&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function vt(t){let e,n,a,o;return e=new q({props:{indented:!0,labelText:"Export canvas..."}}),e.$on("click",t[21]),a=new R({}),{c(){b(e.$$.fragment),n=T(),b(a.$$.fragment)},l(t){k(e.$$.fragment,t),n=L(t),k(a.$$.fragment,t)},m(t,s){M(e,t,s),l(t,n,s),M(a,t,s),o=!0},p:f,i(t){o||(y(e.$$.fragment,t),y(a.$$.fragment,t),o=!0)},o(t){C(e.$$.fragment,t),C(a.$$.fragment,t),o=!1},d(t){E(e,t),t&&r(n),E(a,t)}}}function xt(t){let e,n,a,o=(t[9].gcp||t[9].s3.credentials)&&vt(t);return n=new q({props:{labelText:"Show color palette",selected:t[7]}}),n.$on("click",t[22]),{c(){o&&o.c(),e=T(),b(n.$$.fragment)},l(t){o&&o.l(t),e=L(t),k(n.$$.fragment,t)},m(t,s){o&&o.m(t,s),l(t,e,s),M(n,t,s),a=!0},p(t,a){t[9].gcp||t[9].s3.credentials?o?(o.p(t,a),512&a&&y(o,1)):(o=vt(t),o.c(),y(o,1),o.m(e.parentNode,e)):o&&(N(),C(o,1,1,(()=>{o=null})),j());const s={};128&a&&(s.selected=t[7]),n.$set(s)},i(t){a||(y(o),y(n.$$.fragment,t),a=!0)},o(t){C(o),C(n.$$.fragment,t),a=!1},d(t){o&&o.d(t),t&&r(e),E(n,t)}}}function yt(t){let e,n,c,f,m,g,p,u,h,w,v=t[4]&&t[3]&&ut(t),x=t[7]&&ht(t),b=t[0].data&&wt(t);return{c(){e=a("svg"),n=a("g"),v&&v.c(),x&&x.c(),c=a("rect"),g=T(),b&&b.c(),p=d(),this.h()},l(t){e=o(t,"svg",{width:!0,height:!0,id:!0,viewBox:!0,preserveAspectRatio:!0,class:!0},1);var a=s(e);n=o(a,"g",{class:!0,transform:!0},1);var $=s(n);v&&v.l($),$.forEach(r),x&&x.l(a),c=o(a,"rect",{width:!0,height:!0,class:!0},1),s(c).forEach(r),a.forEach(r),g=L(t),b&&b.l(t),p=d(),this.h()},h(){$(n,"class","hexagon svelte-qbitw6"),$(n,"transform",`translate(${bt}, ${bt})`),$(c,"width",t[1]),$(c,"height",f=t[2]+2.5*bt),$(c,"class","border svelte-qbitw6"),$(e,"width",t[1]),$(e,"height",t[2]),$(e,"id","canvas"),$(e,"viewBox",m=`0 0 ${t[1]} ${t[2]+2.5*bt}`),$(e,"preserveAspectRatio","xMaxYMin meet"),$(e,"class","svelte-qbitw6")},m(a,o){l(a,e,o),P(e,n),v&&v.m(n,null),x&&x.m(e,null),P(e,c),l(a,g,o),b&&b.m(a,o),l(a,p,o),u=!0,h||(w=i(e,"mouseleave",t[20]),h=!0)},p(t,[a]){t[4]&&t[3]?v?(v.p(t,a),24&a&&y(v,1)):(v=ut(t),v.c(),y(v,1),v.m(n,null)):v&&(N(),C(v,1,1,(()=>{v=null})),j()),t[7]?x?(x.p(t,a),128&a&&y(x,1)):(x=ht(t),x.c(),y(x,1),x.m(e,c)):x&&(N(),C(x,1,1,(()=>{x=null})),j()),(!u||2&a)&&$(c,"width",t[1]),(!u||4&a&&f!==(f=t[2]+2.5*bt))&&$(c,"height",f),(!u||2&a)&&$(e,"width",t[1]),(!u||4&a)&&$(e,"height",t[2]),(!u||6&a&&m!==(m=`0 0 ${t[1]} ${t[2]+2.5*bt}`))&&$(e,"viewBox",m),t[0].data?b?(b.p(t,a),1&a&&y(b,1)):(b=wt(t),b.c(),y(b,1),b.m(p.parentNode,p)):b&&(N(),C(b,1,1,(()=>{b=null})),j())},i(t){u||(y(v),y(x),y(b),u=!0)},o(t){C(v),C(x),C(b),u=!1},d(t){t&&r(e),v&&v.d(),x&&x.d(),t&&r(g),b&&b.d(t),t&&r(p),h=!1,w()}}}const bt=10;function kt(t,e,n){let a;O(t,at,(t=>n(9,a=t)));let{width:o}=e,{height:s}=e,{canvas:r}=e;console.log(s);let $,c,l={},i=0,f=v(18),m=!0,g="#d53e4f";return t.$$set=t=>{"width"in t&&n(1,o=t.width),"height"in t&&n(2,s=t.height),"canvas"in t&&n(0,r=t.canvas)},t.$$.update=()=>{15&t.$$.dirty&&r.data&&(n(3,c=function(t,e,n,a,o,s){const r=2*e*Math.sin(Math.PI/3),$=1.5*e,c=Math.ceil((a+e)/$)+1,l=Math.ceil(n/r)+1,i=s?Math.ceil(s/r)+1:n,f=[],m=[];let g=0;for(let d=-1;d<=c;++d)for(let t=-1;t<=l;++t){const e=2*d,n=2*(t+(1&d)/2);m.push([[n,e-1],[1,1]],[[n+1,e],[0,1]],[[n+1,e+1],[-1,1]])}const p=Object.keys(o),u={};p.map((t=>{s&&n!==s?u[st(t,i,l)]=t:u[t]=t}));for(let d=0,h=3;d<c;++d,h+=6)for(let e=0;e<l;++e,h+=3)f.push({id:g.toString(),name:t,type:"Polygon",arcs:[[h,h+1,h+2,~(h+3*(l+2-(1&d))),~(h-2),~(h-3*(l+2+(1&d))+2)]],attr:o&&o[u[g]]||{}}),++g;return{transform:{translate:[0,0],scale:[1,1]},objects:{hexagons:{type:"GeometryCollection",geometries:f}},arcs:m}}(r.metadata.name,bt,o,s,r.data,r.metadata.width)),n(4,$=c.objects.hexagons.geometries))},[r,o,s,c,$,i,f,m,g,a,!1,function(t){n(0,r.data[t.detail.id]=t.detail.data,r)},function(t){const{id:e,fill:n,color:a}=t.detail;l[e]={mesh:{id:e,fill:n,color:a}}},function(){const t=Object.values(l),{location:e,name:n}=r.metadata;t.length>0&&"mesh-welcome"!==r.metadata.template&&a.api.send(e,n,t),l={}},function(t){n(8,g=t.detail.color)},function(t){c=t,n(3,c),n(0,r),n(1,o),n(2,s)},function(t,e,a,l){a[l]=t,n(4,$),n(0,r),n(1,o),n(2,s),n(3,c)},function(t){g=t,n(8,g)},function(t){i=t,n(5,i)},function(t){f=t,n(6,f)},()=>{n(5,i=0)},()=>console.log("exporting"),()=>n(7,m=!m)]}class Mt extends t{constructor(t){super(),e(this,t,kt,yt,n,{width:1,height:2,canvas:0})}}function St(t,e,n){const a=t.slice();return a[14]=e[n],a}function Ct(t){let e;return{c(){e=_("Create")},l(t){e=A(t,"Create")},m(t,n){l(t,e,n)},d(t){t&&r(e)}}}function Et(t){let e,n,a,$=t[14]+"";return{c(){e=X("option"),n=_($),a=T(),this.h()},l(t){e=o(t,"OPTION",{value:!0});var c=s(e);n=A(c,$),a=L(c),c.forEach(r),this.h()},h(){e.__value=t[14],e.value=e.__value},m(t,o){l(t,e,o),P(e,n),P(e,a)},p:f,d(t){t&&r(e)}}}function Nt(t){let e,n=Object.keys(t[2]),a=[];for(let o=0;o<n.length;o+=1)a[o]=Et(St(t,n,o));return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=d()},l(t){for(let e=0;e<a.length;e+=1)a[e].l(t);e=d()},m(t,n){for(let e=0;e<a.length;e+=1)a[e].m(t,n);l(t,e,n)},p(t,o){if(4&o){let s;for(n=Object.keys(t[2]),s=0;s<n.length;s+=1){const r=St(t,n,s);a[s]?a[s].p(r,o):(a[s]=Et(r),a[s].c(),a[s].m(e.parentNode,e))}for(;s<a.length;s+=1)a[s].d(1);a.length=n.length}},d(t){h(a,t),t&&r(e)}}}function jt(t){let e,n,a,$,c,i,f,m,g,p,u;return e=new U({props:{type:"name",name:"name",placeholder:"Name..."}}),a=new U({props:{as:"select",name:"template",$$slots:{default:[Nt]},$$scope:{ctx:t}}}),c=new U({props:{type:"checkbox",name:"private",checked:!0}}),p=new W({props:{name:"name",as:"span"}}),{c(){b(e.$$.fragment),n=T(),b(a.$$.fragment),$=T(),b(c.$$.fragment),i=T(),f=X("span"),m=_("Private"),g=T(),b(p.$$.fragment)},l(t){k(e.$$.fragment,t),n=L(t),k(a.$$.fragment,t),$=L(t),k(c.$$.fragment,t),i=L(t),f=o(t,"SPAN",{});var l=s(f);m=A(l,"Private"),l.forEach(r),g=L(t),k(p.$$.fragment,t)},m(t,o){M(e,t,o),l(t,n,o),M(a,t,o),l(t,$,o),M(c,t,o),l(t,i,o),l(t,f,o),P(f,m),l(t,g,o),M(p,t,o),u=!0},p(t,e){const n={};131072&e&&(n.$$scope={dirty:e,ctx:t}),a.$set(n)},i(t){u||(y(e.$$.fragment,t),y(a.$$.fragment,t),y(c.$$.fragment,t),y(p.$$.fragment,t),u=!0)},o(t){C(e.$$.fragment,t),C(a.$$.fragment,t),C(c.$$.fragment,t),C(p.$$.fragment,t),u=!1},d(t){E(e,t),t&&r(n),E(a,t),t&&r($),E(c,t),t&&r(i),t&&r(f),t&&r(g),E(p,t)}}}function Tt(t){let e,n,a,o,s,$,c,i;return e=new U({props:{as:"TextInput",type:"number",name:"width",placeholder:"width..."}}),a=new U({props:{as:"TextInput",type:"number",name:"height",placeholder:"height..."}}),s=new W({props:{name:"width",as:"div"}}),c=new W({props:{name:"height",as:"div"}}),{c(){b(e.$$.fragment),n=T(),b(a.$$.fragment),o=T(),b(s.$$.fragment),$=T(),b(c.$$.fragment)},l(t){k(e.$$.fragment,t),n=L(t),k(a.$$.fragment,t),o=L(t),k(s.$$.fragment,t),$=L(t),k(c.$$.fragment,t)},m(t,r){M(e,t,r),l(t,n,r),M(a,t,r),l(t,o,r),M(s,t,r),l(t,$,r),M(c,t,r),i=!0},p:f,i(t){i||(y(e.$$.fragment,t),y(a.$$.fragment,t),y(s.$$.fragment,t),y(c.$$.fragment,t),i=!0)},o(t){C(e.$$.fragment,t),C(a.$$.fragment,t),C(s.$$.fragment,t),C(c.$$.fragment,t),i=!1},d(t){E(e,t),t&&r(n),E(a,t),t&&r(o),E(s,t),t&&r($),E(c,t)}}}function Lt(t){let e;return{c(){e=_("Create")},l(t){e=A(t,"Create")},m(t,n){l(t,e,n)},d(t){t&&r(e)}}}function Pt(t){let e,n,a,o,s,$;return e=new Q({props:{legendText:"Canvas",$$slots:{default:[jt]},$$scope:{ctx:t}}}),a=new Q({props:{legendText:"Dimensions (width x height)",$$slots:{default:[Tt]},$$scope:{ctx:t}}}),s=new H({props:{size:"small",type:"submit",disabled:t[1],$$slots:{default:[Lt]},$$scope:{ctx:t}}}),{c(){b(e.$$.fragment),n=T(),b(a.$$.fragment),o=T(),b(s.$$.fragment)},l(t){k(e.$$.fragment,t),n=L(t),k(a.$$.fragment,t),o=L(t),k(s.$$.fragment,t)},m(t,r){M(e,t,r),l(t,n,r),M(a,t,r),l(t,o,r),M(s,t,r),$=!0},p(t,n){const o={};131072&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const r={};131072&n&&(r.$$scope={dirty:n,ctx:t}),a.$set(r);const $={};2&n&&($.disabled=t[1]),131072&n&&($.$$scope={dirty:n,ctx:t}),s.$set($)},i(t){$||(y(e.$$.fragment,t),y(a.$$.fragment,t),y(s.$$.fragment,t),$=!0)},o(t){C(e.$$.fragment,t),C(a.$$.fragment,t),C(s.$$.fragment,t),$=!1},d(t){E(e,t),t&&r(n),E(a,t),t&&r(o),E(s,t)}}}function Ot(t){let e,n;return e=new Y({props:{$$slots:{default:[Pt]},$$scope:{ctx:t}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){M(e,t,a),n=!0},p(t,n){const a={};131074&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function zt(t){let e,n,a;function o(e){t[7](e)}let s={initialValues:t[3],validate:t[4],onSubmit:t[5],$$slots:{default:[Ot]},$$scope:{ctx:t}};return void 0!==t[1]&&(s.isSubmitting=t[1]),e=new G({props:s}),z.push((()=>B(e,"isSubmitting",o))),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,n){M(e,t,n),a=!0},p(t,a){const o={};131074&a&&(o.$$scope={dirty:a,ctx:t}),!n&&2&a&&(n=!0,o.isSubmitting=t[1],S((()=>n=!1))),e.$set(o)},i(t){a||(y(e.$$.fragment,t),a=!0)},o(t){C(e.$$.fragment,t),a=!1},d(t){E(e,t)}}}function Bt(t){let e,n,a,o,s;function $(e){t[8](e)}e=new H({props:{icon:V,kind:"ghost",size:"small",$$slots:{default:[Ct]},$$scope:{ctx:t}}}),e.$on("click",t[6]);let c={size:"xs",passiveModal:!0,modalHeading:"",$$slots:{default:[zt]},$$scope:{ctx:t}};return void 0!==t[0]&&(c.open=t[0]),a=new J({props:c}),z.push((()=>B(a,"open",$))),a.$on("click:button--secondary",t[9]),a.$on("open",t[10]),a.$on("close",t[11]),{c(){b(e.$$.fragment),n=T(),b(a.$$.fragment)},l(t){k(e.$$.fragment,t),n=L(t),k(a.$$.fragment,t)},m(t,o){M(e,t,o),l(t,n,o),M(a,t,o),s=!0},p(t,[n]){const s={};131072&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const r={};131074&n&&(r.$$scope={dirty:n,ctx:t}),!o&&1&n&&(o=!0,r.open=t[0],S((()=>o=!1))),a.$set(r)},i(t){s||(y(e.$$.fragment,t),y(a.$$.fragment,t),s=!0)},o(t){C(e.$$.fragment,t),C(a.$$.fragment,t),s=!1},d(t){E(e,t),t&&r(n),E(a,t)}}}function It(t,e,n){let a;O(t,at,(t=>n(12,a=t)));const o=g();let s=!1,r=!1;return[s,r,{mesh:"Hexagon Mesh","mesh-welcome":"Canvas Logo","mesh-bitcoin":"Bitcoin","mesh-sigil":"Sigil","mesh-martian":"Martian","mesh-crypto":"Cryptonomicon","mesh-yc-hn":"Hacker News","mesh-tile":"Easel","mesh-guy":"Guybrush Threepwood","mesh-life":"Other Life","mesh-public":"Public Moon"},{name:"",private:!0,template:"mesh",width:1500,height:1e3},t=>{const e={name:"",width:"",height:""};return""===t.name&&(e.name="Name Required"),t.width<648&&(e.width="Min width 648"),t.width>1500&&(e.width="Max width 1500"),t.height<648&&(e.height="Min height 648"),t.height>1e3&&(e.height="Max height 1000"),console.log(e),e},(t,{setSubmitting:e})=>{console.log("[ creating canvas... ]"),a.api.create(t.name,"~"+a.ship,t.template,t.private,t.width,t.height).then((e=>{console.log("[ success new canvas... ]",t.name,e),o("newcanvas",{name:t.name}),n(0,s=!1),n(1,r=!1)}))},()=>n(0,s=!0),function(t){r=t,n(1,r)},function(t){s=t,n(0,s)},()=>n(0,s=!1),function(e){D(t,e)},function(e){D(t,e)}]}class qt extends t{constructor(t){super(),e(this,t,It,Bt,n,{})}}function Rt(t){let e;return{c(){e=_("Join")},l(t){e=A(t,"Join")},m(t,n){l(t,e,n)},d(t){t&&r(e)}}}function Ht(t){let e,n,a,o;return e=new U({props:{type:"name",name:"name",placeholder:"~sampel-palnet/canvas"}}),a=new W({props:{name:"name",as:"span"}}),{c(){b(e.$$.fragment),n=T(),b(a.$$.fragment)},l(t){k(e.$$.fragment,t),n=L(t),k(a.$$.fragment,t)},m(t,s){M(e,t,s),l(t,n,s),M(a,t,s),o=!0},p:f,i(t){o||(y(e.$$.fragment,t),y(a.$$.fragment,t),o=!0)},o(t){C(e.$$.fragment,t),C(a.$$.fragment,t),o=!1},d(t){E(e,t),t&&r(n),E(a,t)}}}function Vt(t){let e;return{c(){e=_("Join")},l(t){e=A(t,"Join")},m(t,n){l(t,e,n)},d(t){t&&r(e)}}}function Jt(t){let e,n,a,o;return e=new Q({props:{legendText:"Remote Canvas Name ",$$slots:{default:[Ht]},$$scope:{ctx:t}}}),a=new H({props:{size:"small",type:"submit",disabled:t[9],$$slots:{default:[Vt]},$$scope:{ctx:t}}}),{c(){b(e.$$.fragment),n=T(),b(a.$$.fragment)},l(t){k(e.$$.fragment,t),n=L(t),k(a.$$.fragment,t)},m(t,s){M(e,t,s),l(t,n,s),M(a,t,s),o=!0},p(t,n){const o={};1024&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const s={};512&n&&(s.disabled=t[9]),1024&n&&(s.$$scope={dirty:n,ctx:t}),a.$set(s)},i(t){o||(y(e.$$.fragment,t),y(a.$$.fragment,t),o=!0)},o(t){C(e.$$.fragment,t),C(a.$$.fragment,t),o=!1},d(t){E(e,t),t&&r(n),E(a,t)}}}function _t(t){let e,n;return e=new Y({props:{$$slots:{default:[Jt]},$$scope:{ctx:t}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){M(e,t,a),n=!0},p(t,n){const a={};1536&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function At(t){let e,n;return e=new G({props:{initialValues:t[1],validate:t[2],onSubmit:t[3],$$slots:{default:[_t,({isSubmitting:t})=>({9:t}),({isSubmitting:t})=>t?512:0]},$$scope:{ctx:t}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){M(e,t,a),n=!0},p(t,n){const a={};1536&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function Dt(t){let e,n,a,o,s;function $(e){t[5](e)}e=new H({props:{icon:Z,kind:"ghost",size:"small",$$slots:{default:[Rt]},$$scope:{ctx:t}}}),e.$on("click",t[4]);let c={size:"xs",passiveModal:!0,modalHeading:"",$$slots:{default:[At]},$$scope:{ctx:t}};return void 0!==t[0]&&(c.open=t[0]),a=new J({props:c}),z.push((()=>B(a,"open",$))),a.$on("click:button--secondary",t[6]),a.$on("open",t[7]),a.$on("close",t[8]),{c(){b(e.$$.fragment),n=T(),b(a.$$.fragment)},l(t){k(e.$$.fragment,t),n=L(t),k(a.$$.fragment,t)},m(t,o){M(e,t,o),l(t,n,o),M(a,t,o),s=!0},p(t,[n]){const s={};1024&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const r={};1024&n&&(r.$$scope={dirty:n,ctx:t}),!o&&1&n&&(o=!0,r.open=t[0],S((()=>o=!1))),a.$set(r)},i(t){s||(y(e.$$.fragment,t),y(a.$$.fragment,t),s=!0)},o(t){C(e.$$.fragment,t),C(a.$$.fragment,t),s=!1},d(t){E(e,t),t&&r(n),E(a,t)}}}function Gt(t,e,n){let a=!1;return[a,{name:""},t=>{const e={name:"",width:"",height:""};return""===t.name&&(e.name="Name Required"),console.log(e),e},(t,{setSubmitting:e})=>{console.log(t)},()=>n(0,a=!0),function(t){a=t,n(0,a)},()=>n(0,a=!1),function(e){D(t,e)},function(e){D(t,e)}]}class Yt extends t{constructor(t){super(),e(this,t,Gt,Dt,n,{})}}function Qt(t,e,n){const a=t.slice();return a[2]=e[n],a}function Ut(t){let e,n;return e=new qt({}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){M(e,t,a),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function Wt(t){let e,n;return e=new tt({props:{light:!0,size:"sm",inline:!0,selected:t[0].name,$$slots:{default:[Zt]},$$scope:{ctx:t}}}),e.$on("change",t[1]),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){M(e,t,a),n=!0},p(t,n){const a={};1&n&&(a.selected=t[0].name),33&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function Xt(t){let e,n;return e=new et({props:{value:t[2],text:t[2]}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){M(e,t,a),n=!0},p(t,n){const a={};1&n&&(a.value=t[2]),1&n&&(a.text=t[2]),e.$set(a)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function Zt(t){let e,n,a=t[0].canvasList,o=[];for(let r=0;r<a.length;r+=1)o[r]=Xt(Qt(t,a,r));const s=t=>C(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=d()},l(t){for(let e=0;e<o.length;e+=1)o[e].l(t);e=d()},m(t,a){for(let e=0;e<o.length;e+=1)o[e].m(t,a);l(t,e,a),n=!0},p(t,n){if(1&n){let r;for(a=t[0].canvasList,r=0;r<a.length;r+=1){const s=Qt(t,a,r);o[r]?(o[r].p(s,n),y(o[r],1)):(o[r]=Xt(s),o[r].c(),y(o[r],1),o[r].m(e.parentNode,e))}for(N(),r=a.length;r<o.length;r+=1)s(r);j()}},i(t){if(!n){for(let t=0;t<a.length;t+=1)y(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)C(o[e]);n=!1},d(t){h(o,t),t&&r(e)}}}function Ft(t){let e,n,a=t[0].canvasList&&t[0].canvasList.length>0&&Wt(t);return{c(){a&&a.c(),e=d()},l(t){a&&a.l(t),e=d()},m(t,o){a&&a.m(t,o),l(t,e,o),n=!0},p(t,n){t[0].canvasList&&t[0].canvasList.length>0?a?(a.p(t,n),1&n&&y(a,1)):(a=Wt(t),a.c(),y(a,1),a.m(e.parentNode,e)):a&&(N(),C(a,1,1,(()=>{a=null})),j())},i(t){n||(y(a),n=!0)},o(t){C(a),n=!1},d(t){a&&a.d(t),t&&r(e)}}}function Kt(t){let e,n;return e=new Yt({}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){M(e,t,a),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function te(t){let e,n,a,o,s,$;return e=new K({props:{$$slots:{default:[Ut]},$$scope:{ctx:t}}}),a=new K({props:{$$slots:{default:[Ft]},$$scope:{ctx:t}}}),s=new K({props:{$$slots:{default:[Kt]},$$scope:{ctx:t}}}),{c(){b(e.$$.fragment),n=T(),b(a.$$.fragment),o=T(),b(s.$$.fragment)},l(t){k(e.$$.fragment,t),n=L(t),k(a.$$.fragment,t),o=L(t),k(s.$$.fragment,t)},m(t,r){M(e,t,r),l(t,n,r),M(a,t,r),l(t,o,r),M(s,t,r),$=!0},p(t,n){const o={};32&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const r={};33&n&&(r.$$scope={dirty:n,ctx:t}),a.$set(r);const $={};32&n&&($.$$scope={dirty:n,ctx:t}),s.$set($)},i(t){$||(y(e.$$.fragment,t),y(a.$$.fragment,t),y(s.$$.fragment,t),$=!0)},o(t){C(e.$$.fragment,t),C(a.$$.fragment,t),C(s.$$.fragment,t),$=!1},d(t){E(e,t),t&&r(n),E(a,t),t&&r(o),E(s,t)}}}function ee(t){let e,n;return e=new nt({props:{small:!0}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){M(e,t,a),n=!0},p:f,i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function ne(t){let e,n;return e=new Mt({props:{canvas:t[0].canvas[t[0].name],width:t[0].canvas[t[0].name].metadata.width,height:t[0].canvas[t[0].name].metadata.height}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){M(e,t,a),n=!0},p(t,n){const a={};1&n&&(a.canvas=t[0].canvas[t[0].name]),1&n&&(a.width=t[0].canvas[t[0].name].metadata.width),1&n&&(a.height=t[0].canvas[t[0].name].metadata.height),e.$set(a)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function ae(t){let e,n,a,c;const i=[ne,ee],f=[];function m(t,e){return t[0].canvas&&t[0].canvas[t[0].name]?0:1}return n=m(t),a=f[n]=i[n](t),{c(){e=X("div"),a.c(),this.h()},l(t){e=o(t,"DIV",{class:!0});var n=s(e);a.l(n),n.forEach(r),this.h()},h(){$(e,"class","svelte-xf3liu")},m(t,a){l(t,e,a),f[n].m(e,null),c=!0},p(t,o){let s=n;n=m(t),n===s?f[n].p(t,o):(N(),C(f[s],1,1,(()=>{f[s]=null})),j(),a=f[n],a?a.p(t,o):(a=f[n]=i[n](t),a.c()),y(a,1),a.m(e,null))},i(t){c||(y(a),c=!0)},o(t){C(a),c=!1},d(t){t&&r(e),f[n].d()}}}function oe(t){let e,n;return e=new K({props:{$$slots:{default:[ae]},$$scope:{ctx:t}}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,a){M(e,t,a),n=!0},p(t,n){const a={};33&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function se(t){let e,n,a,c,i;return n=new F({props:{$$slots:{default:[te]},$$scope:{ctx:t}}}),c=new F({props:{$$slots:{default:[oe]},$$scope:{ctx:t}}}),{c(){e=X("div"),b(n.$$.fragment),a=T(),b(c.$$.fragment),this.h()},l(t){e=o(t,"DIV",{class:!0});var $=s(e);k(n.$$.fragment,$),$.forEach(r),a=L(t),k(c.$$.fragment,t),this.h()},h(){$(e,"class","svelte-xf3liu")},m(t,o){l(t,e,o),M(n,e,null),l(t,a,o),M(c,t,o),i=!0},p(t,[e]){const a={};33&e&&(a.$$scope={dirty:e,ctx:t}),n.$set(a);const o={};33&e&&(o.$$scope={dirty:e,ctx:t}),c.$set(o)},i(t){i||(y(n.$$.fragment,t),y(c.$$.fragment,t),i=!0)},o(t){C(n.$$.fragment,t),C(c.$$.fragment,t),i=!1},d(t){t&&r(e),E(n),t&&r(a),E(c,t)}}}function re(t,e,n){let a;O(t,at,(t=>n(0,a=t)));return[a,t=>ot(t.detail)]}export default class extends t{constructor(t){super(),e(this,t,re,se,n,{})}}
